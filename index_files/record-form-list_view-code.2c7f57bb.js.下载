(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["record-form-list~view-code"],{"0967":function(t,e,s){"use strict";s("5953")},1848:function(t,e,s){},"50cb":function(t,e,s){},5221:function(t,e,s){"use strict";s("5cd9")},5953:function(t,e,s){},"5c1c":function(t,e,s){"use strict";s("9def")},"5cd9":function(t,e,s){},6522:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"record record_"+t.logMsg.expand_log+" "+(t.hasRecordContent?"x-hasRecordContent":"x-noRecordContent")+" "+(4===t.logMsg.expand_log?"record-card":"")+" "+(t.show2?"show2":"noRecordView")+" "+(t.placeBottom?"placeBottom":"")+" "+(t.afterContent?"afterContent":"")},[t.show2&&t.showDynamic?s("div",{class:"latest-record "+(1!==t.codeData.log_msg.recordview_position?"new-three-record":"")+" "+(t.hasTaskOrStatus?"hasTaskOrStatus":""),style:{marginTop:t.$$u(t.cmpInfo.recordCheck.gap.top),marginBottom:t.$$u(t.cmpInfo.recordCheck.gap.bottom)},attrs:{id:"latest-record"},on:{click:t.goHistory}},[s("div",{staticClass:"top-tip"},[s("div",{staticClass:"tip",class:"font-size-18-"+t.currentFontSize},[t._v(" "+t._s(t.logMsg.record_summary_title)+" ")]),t.isStatsStyle&&!t.show1?s("span",{staticClass:"statsViewAll",class:"font-size-13-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 "),s("i",{staticClass:"clifont anticon-cli-angle-right"})]):t._e()]),t.dynamicStyleType===t.DynamicStyleType.TimeLine?s("block",[s("TimeLineLists",{attrs:{records:t.records,logMsg:t.logMsg,show1:t.show1,openRecordActive:t.openRecordActive,codeData:t.codeData,getRecordLoading:t.getRecordLoading,recordDetailStatusLists:t.recordDetailStatusLists,styleCfg:t.dynamicStyleCfg,afterContent:t.afterContent,currentFontSize:t.currentFontSize}},[!t.show1&&t.records&&t.records.length&&t.recordsTotal?s("div",{staticClass:"add timeLineViewAllWrapper",class:"font-size-13-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 ")]):t._e()])],1):t._e(),t.dynamicStyleType===t.DynamicStyleType.UnionList?s("block",[s("RecordBlockLists",{attrs:{records:t.records,logMsg:t.logMsg,show1:t.show1,openRecordActive:t.openRecordActive,codeData:t.codeData,getRecordLoading:t.getRecordLoading,recordDetailStatusLists:t.recordDetailStatusLists,styleCfg:t.dynamicStyleCfg,afterContent:t.afterContent,currentFontSize:t.currentFontSize}},[!t.show1&&t.records&&t.records.length&&t.recordsTotal?s("div",{staticClass:"add blockListViewAllWrapper",class:"font-size-13-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 ")]):t._e()])],1):t._e(),t.dynamicStyleType===t.DynamicStyleType.Stats?[s("operate-stats",{attrs:{styleCfg:t.dynamicStyleCfg,recordStatsList:t.recordStatsList,show1:t.show1,afterContent:t.afterContent,currentFontSize:t.currentFontSize}})]:t._e(),t.dynamicStyleType===t.DynamicStyleType.ClosedStats?[s("status-panel",{attrs:{styleCfg:t.dynamicStyleCfg,recordStatus:t.recordDetailStatusLists,show1:t.show1,afterContent:t.afterContent,currentFontSize:t.currentFontSize}})]:t._e()],2):t._e(),t.hasOpenRecordLog&&t.operateData.length&&t.showOperatePanel?s("div",{staticClass:"add-record",style:{marginTop:t.$$u(t.cmpInfo.recordItemContent.gap.top),marginBottom:t.$$u(t.cmpInfo.recordItemContent.gap.bottom)}},[t.show3?s("div",{staticClass:"items"},[!t.noRecordTag&&t.logMsgTag?s("div",{staticClass:"tip logMsgTip",class:[{listType:0===t.logMsg.expand_log,minimalListType:6===t.logMsg.expand_log},"font-size-18-"+t.currentFontSize]},[t._v(" "+t._s(t.logMsgTag)+" ")]):t._e(),5===t.logMsg.expand_log?s("div",{staticClass:"gridItemWrapper"},t._l(t.operateData,(function(e){return s("div",{key:e.id,staticClass:"gridItem operateWrapHover",on:{click:function(s){return t.goRecordFormPage(e)}}},[s("div",{staticClass:"iconWrapper"},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+e.operation_msg.icon_path+")"}})]),s("span",{staticClass:"title",class:"font-size-14-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")])])})),0):6===t.logMsg.expand_log?s("div",{staticClass:"minimalList"},t._l(t.operateData,(function(e){return s("div",{key:e.id,staticClass:"minimalListItem operateWrapHover",on:{click:function(s){return t.goRecordFormPage(e)}}},[s("span",{staticClass:"title",class:"font-size-16-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),t._m(0,!0)])})),0):t._l(t.operateData,(function(e,o){return s("div",{key:e.id,class:"item\n          "+(4===t.logMsg.expand_log?"cardItem":"listItem")+"\n          "+(t.noAddRecordBtn?"noAddRecordBtn":"")+" "+(t.operateData.length-1===o?"last-item":""),on:{click:function(s){return t.goRecordFormPage(e)}}},[4===t.logMsg.expand_log?s("div",{staticClass:"cardAddOperateWrap operateWrapHover",style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).listBgColor}},[s("div",{staticClass:"info"},[s("div",{staticClass:"title",class:"font-size-17-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),e.operation_msg.subtitle?s("div",{staticClass:"desc",class:"font-size-14-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.subtitle)+" ")]):t._e()]),e.$customLimit?s("div",{staticClass:"limitInfo"},[t._v("已达填写上限")]):s("div",{class:"action "+(t.isEmptyContent(e)?"isEmptyContent":"")+"  font-size-14-"+t.currentFontSize,style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).btnBgColor,color:t.transColor(e.operation_msg.bgcolor).btnColor,borderColor:t.transColor(e.operation_msg.bgcolor).btnBorderColor}},[t._v(" "+t._s(t.isEmptyContent(e)?"未设置":e.operation_msg.button_text||t.OPERATE_ITEM_DEFAULT_BUTTON_TEXT)+" ")])]):[s("div",{staticClass:"info"},[s("div",{staticClass:"title",class:"font-size-17-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),e.operation_msg.subtitle?s("div",{staticClass:"desc",class:"font-size-14-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.subtitle)+" ")]):t._e()]),e.$customLimit?s("div",{staticClass:"limitInfo"},[t._v("已达填写上限")]):s("div",{class:"action "+(t.isEmptyContent(e)?"doubleEmptyContent":"")+"  font-size-14-"+t.currentFontSize},[t._v(" "+t._s(t.isEmptyContent(e)?"未设置":e.operation_msg.button_text||t.OPERATE_ITEM_DEFAULT_BUTTON_TEXT)+" ")])]],2)}))],2):t._e(),t.show4?s("div",[1!==t.logMsg.expand_log||t.$$getValue(t.operateData,"0.$elData.can_add_record_time")?t._l(t.logMsg.data_list,(function(e){return s("div",{key:e.id,class:"single-form "+(t.noAddRecordBtn?"noAddRecordBtn":"")},[s("record-form",{attrs:{"tpl-id":e.tpl_id,"org-id":e.org_id,"tpl-token":e.record_tpl_token,currentFontSize:t.currentFontSize},on:{showTip:t.showRecordTip}})],1)})):s("div",{staticClass:"single-form"},[s("div",{staticClass:"time-limit-wrapper"},[s("i",{class:"clifont "+(t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?"anticon-cli-history":"anticon-tingzhitianxie")+" limit-icon"}),s("div",{staticClass:"time-limit-title",class:"font-size-18-"+t.currentFontSize},[t._v(" "+t._s(2===t.$$getValue(t.logMsg,"data_list.0.time_limit_type")?"此表单暂未开放填写":t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?"该表单还未开放填写":"该表单已停止填写")+" ")]),1===t.$$getValue(t.logMsg,"data_list.0.time_limit_type")?s("div",[t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?s("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 填写开放时间为 "),t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")?s("div",[s("div",[t._v(" "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.start_time")))+" 至 "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")))+" ")])]):s("div",[t._v(" "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.start_time")))+" ")])]):s("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 填写截止日期为 "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")))+" ")])]):t.$$getValue(t.logMsg,"data_list.0.time_limit_record.length")?s("div",[s("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 每日开启时间为 "),t._l(t.$$getValue(t.logMsg,"data_list.0.time_limit_record",[]),(function(e,o){return s("span",{key:e.id,style:t.$$getValue(t.logMsg,"data_list.0.time_limit_record",[]).length<=3?"white-space: nowrap":""},[t._v(" "+t._s(e.start_time)+" - "+t._s(e.end_time)+" "+t._s(t.showDot(o)?"，":"")+" ")])}))],2)]):t._e()])])],2):t._e(),t.noAddRecordBtn||2!==t.logMsg.expand_log?t._e():s("div",[s("div",{staticClass:"add-button",style:t.calcMinaBottom(),attrs:{tyle:"button"},on:{click:t.goFormListPage}},[s("div",{staticClass:"word",class:"font-size-16-"+t.currentFontSizeWithoutApply,style:{background:"pure"===t.codeColorInfo.type?t.expBtnBG:t.codeColorInfo.gradient.recordButtonEntryBackground,color:t.codeColorInfo.gradient.recordButtonEntryColor||t.expBtnColor}},[t._v(" "+t._s(t.codeData.log_msg.expand_btn||"填写表单")+" ")])])])]):t._e()])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"iconArrowRight"},[s("i",{staticClass:"clifont anticon-gengduo"})])}],i=s("9ab4"),r=s("1b40"),n=s("131c"),c=s("6022"),l=s("4a75"),d=s("e0af"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timeLineContainer",class:{afterContent:t.afterContent}},[t.show1?s("div",{class:"view-password new-block-info "+(t.logMsg.record_summary_title?"":"no-title")+" "+(1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?"view-password-new":"")+"  font-size-15-"+t.currentFontSize+" update-block-info"},[1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?s("block",[t._v(" 记录数据已被加密，需要输入密码查看 ")]):s("block",[t._v(" 记录数据已被加密，需要输入密码查看"),s("br")])],1):t.getRecordLoading?t._e():[!t.isShareTpl&&t.records.length?s("div",{staticClass:"history-content has-show-three-record"},[t.recordDetailStatusLists.length?s("div",{staticClass:"record-status-wrap"},t._l(t.recordDetailStatusLists,(function(e,o){return s("div",{key:o,staticClass:"status-item",class:"font-size-13-"+t.currentFontSize},[s("span",[t._v(t._s(e.process_status_txt))]),s("span",[t._v(t._s(e.count))])])})),0):t._e(),t._l(t.parsedRecords,(function(e,o){return[6!==e.tpl_type?s("div",{key:o,class:"item showThreeItem "+(6!==e.tpl_type?"":"noMargin")+" "+(o===t.records.length-1?"lastItem":"")+" "+(0===o?"firstItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[t._m(0,!0),s("div",{staticClass:"right-wrap"},[s("div",{staticClass:"recorder-box",class:"font-size-14-"+t.currentFontSize},[[s("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[0]))]),s("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[1]))])],e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")]),9===e.tpl_type?s("span",[t._v(" 签阅了"+t._s(e.tpl_name)+" ")]):7===e.tpl_type?s("span",[7===e.stateOperateType?[t._v(" 长按更新了状态 ")]:e.operation_name?[t._v(" 完成了"+t._s(e.operation_name)+" ")]:[t._v(" 手动更新了状态 ")]],2):e.operation_name?s("span",[t._v(" 完成了"+t._s(e.operation_name)+" ")]):13===e.tpl_type?s("tempate",[t._v(" "+t._s(e.operateTypeDesc)+" ")]):[s("span",[t._v("填写了"),e.log_result?[t._v(t._s(e.tpl_name))]:t._e()],2)]],2),6!==e.tpl_type&&7!==e.tpl_type?s("div",{staticClass:"record-box"},[e.log_result&&t.showResult?s("div",{class:"info-item info-item-result font-size-15-"+t.currentFontSize},[s("span",{staticClass:"label",class:"font-size-15-"+t.currentFontSize},[t._v(t._s(e.log_result_title)+"：")]),s("span",{staticClass:"cont"},[e.isNameRecordResult&&e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"word wordResult"},[t._v(" "+t._s(e.log_result||"")+" ")])],2)]):13===e.tpl_type?s("div",{class:(e.recordStatus.option_value?"info-item info-item-result info-item-flex":"info-item info-item-result")+" font-size-15-"+t.currentFontSize},[s("SubCodeEditLog",{attrs:{data:e,collapse:""}})],1):s("div",{staticClass:"info-item info-item-new-result"},[s("span",{staticClass:"label",class:"font-size-15-"+t.currentFontSize},[t._v(t._s(e.tpl_name))])]),e.recordStatus.option_value?s("div",{staticClass:"record-status-wrap-box",class:"font-size-11-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[s("div",{staticClass:"statusItemText"},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]),s("div",{staticClass:"triangle",style:"background-color: "+e.recordStatus.bgColor+";"})]):t._e()]):t._e(),7===e.tpl_type?s("div",{staticClass:"record-box new-record-box"},[s("div",{staticClass:"change-status-item-wrap"},[s("div",{staticClass:"status-label",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.tplType7State.state_name)+"： ")]),s("div",{staticClass:"status-content"},[s("div",{staticClass:"status-word",class:"font-size-15-"+t.currentFontSize},[s("span",{staticClass:"word-item"},[t._v(" "+t._s(e.tplType7State.state_text)+" ")])])])])]):t._e(),s("div",{staticClass:"time-box",class:"font-size-13-"+t.currentFontSize},[e.review_count?s("span",{staticClass:"mr8"},[s("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e()]),t.showImages?s("record-images",{attrs:{record:e}}):t._e()],1)]):t._e()]})),t._l(t.parsedRecords,(function(e,o){return s("div",{key:o,class:"item showThreeItem "+(6===e.tpl_type?"":"noMargin")+" "+(o===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[6===e.tpl_type?[t._m(1,!0),s("div",{staticClass:"right-wrap"},[s("div",{staticClass:"recorder-box",class:"font-size-14-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")])],2),s("div",{staticClass:"record-box"},[t._l(e.fieldValueDataArr,(function(o,a){return[e.fieldValueDataArr&&e.fieldValueDataArr.length?[e.textAreaValue?s("span",{key:a,class:"text-word "+(3===o.type?"reminder-text":"")+" "+(e.imgDatas&&e.imgDatas.length>0?"":"noImgs")+"  font-size-16-"+t.currentFontSize},[t._v(" "+t._s(o.value)+" ")]):t._e()]:t._e()]})),e.imgDatas&&e.imgDatas.length>0?s("div",{staticClass:"text-img"},[t._l(e.imgDatas,(function(e,o){return[e.url?s("img",{key:o,class:o>=3?"hasMargin":"",attrs:{src:e.url,alt:"图片"}}):t._e()]}))],2):t._e(),e.audioData&&e.audioData.length>0?s("div",{staticClass:"text-audio",class:"font-size-16-"+t.currentFontSize,style:{paddingRight:3*(e.audioData[0].roundTime-1)+"px"},attrs:{"data-index":o}},[s("span",{staticClass:"clifont anticon-yuyin2"}),s("span",{staticClass:"text"},[t._v(t._s(e.audioData[0].roundTime)+"''")])]):t._e()],2),s("div",{staticClass:"time-box",class:"font-size-13-"+t.currentFontSize},[e.recordStatus.option_value?s("div",{staticClass:"statusItem",class:"font-size-13-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),e.review_count?s("span",{staticClass:"mr8"},[s("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e(),s("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[0]))]),s("span",[t._v(t._s(e.add_time[1]))])])])]:t._e()],2)})),t._t("default")],2):s("div",{staticClass:"no-record-info new-block-info update-block-info",class:"font-size-13-"+t.currentFontSize},[t._v(" 暂无记录数据，填写后可在此查看")])]],2)},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-wrap"},[s("div",{staticClass:"tip-circle"}),s("div",{staticClass:"tip-line"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-wrap"},[s("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"})])}],_=s("2141"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images-container",class:{hasMt:!!t.imgList.length}},[t._l(t.showImgs,(function(e,o){return[s("img",{key:o+e.url,staticClass:"record-img",style:{width:t.imgWidth+"vw",height:t.imgWidth+"vw"},attrs:{src:e.url}})]})),t.overLimit?s("div",{staticClass:"img-ellipsis",style:{width:t.imgWidth+"vw",height:t.imgWidth+"vw"}},[s("span",{style:{zoom:t.scale}},[t._v("共"+t._s(t.imgList.length)+"张")])]):t._e()],2)},m=[],h=s("7963");const f=13;let v=class extends r["d"]{constructor(){super(...arguments),this.record=null,this.imgList=[],this.showImgs=[],this.showCount=4,this.overLimit=!1,this.ellipseCount=4,this.imgWidth=f,this.scale=1}initData(){const t=this.record;if(!t)return;const e=Object(h["e"])(t),{showCount:s}=this,o=e.slice(0,s);this.imgList=e,this.showImgs=o,this.overLimit=e.length>s,this.ellipseCount=e.length-s}};Object(i["a"])([Object(r["c"])({type:Object,default:null})],v.prototype,"record",void 0),v=Object(i["a"])([Object(r["a"])({watch:{record:{handler(){this.initData()}}},mounted(){}})],v);var y=v,b=y,C=(s("b1ba"),s("2877")),S=Object(C["a"])(b,g,m,!1,null,"5e89a0dc",null),O=S.exports;let j=class extends r["d"]{constructor(){super(...arguments),this.html="",this.isShareTpl=!1}mounted(){const{isShareTpl:t}=Object(l["o"])();this.isShareTpl="1"===t}};Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],j.prototype,"records",void 0),Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],j.prototype,"recordDetailStatusLists",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:()=>({})})],j.prototype,"codeData",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:()=>({})})],j.prototype,"logMsg",void 0),Object(i["a"])([Object(r["c"])({type:Number,default:0})],j.prototype,"openRecordActive",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!0})],j.prototype,"getRecordLoading",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],j.prototype,"afterContent",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],j.prototype,"show1",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:null})],j.prototype,"styleCfg",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],j.prototype,"currentFontSize",void 0),j=Object(i["a"])([Object(r["a"])({components:{SubCodeEditLog:_["a"],RecordImages:O},computed:{parsedRecords(){const t=Object(n["S"])(this.records);return Object(l["e"])("parsedRecords",t),t},showResult(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["C"])(e,h["a"].Result)}return!1},showImages(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["C"])(e,h["a"].Images)}return!1}}})],j);var w=j,x=w,T=(s("0967"),Object(C["a"])(x,p,u,!1,null,null,null)),z=T.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blockListsContainer",class:{afterContent:t.afterContent}},[t.show1?s("div",{class:"view-password new-block-info "+(t.logMsg.record_summary_title?"":"no-title")+" "+(1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?"view-password-new":"")+" font-size-15-"+t.currentFontSize+"\n     update-block-info"},[1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?s("block",[t._v(" 记录数据已被加密，需要输入密码查看 ")]):s("block",[t._v(" 记录数据已被加密，需要输入密码查看"),s("br")])],1):t.getRecordLoading?t._e():[!t.isShareTpl&&t.records.length?s("div",{staticClass:"history-content has-show-three-record"},[t.recordDetailStatusLists.length?s("div",{staticClass:"record-status-wrap"},t._l(t.recordDetailStatusLists,(function(e,o){return s("div",{key:o,staticClass:"status-item",class:"font-size-13-"+t.currentFontSize},[s("span",[t._v(t._s(e.process_status_txt))]),s("span",[t._v(t._s(e.count))])])})),0):t._e(),t._l(t.parsedRecords,(function(e,o){return[6!==e.tpl_type?s("div",{key:o,class:"item showThreeItem "+(6!==e.tpl_type?"":"noMargin")+" "+(o===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[s("div",{staticClass:"left-wrap"},[7===e.tpl_type&&e.tplType7State.is_change_state?s("i",{staticClass:"recordItem clifont anticon-Frame"}):7!==e.tpl_type||e.tplType7State.is_change_state?6===e.tpl_type?s("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"}):9===e.tpl_type?s("i",{staticClass:"recordItem clifont anticon-fasongyuanwenjian"}):s("i",{staticClass:"recordItem clifont anticon-icon_biaodantianxie_xiaochengxu"}):s("i",{staticClass:"recordItem clifont anticon-shuaxinzhuangtai"})]),s("div",{staticClass:"right-wrap"},[s("div",{staticClass:"recorder-box",class:"font-size-13-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")]),9===e.tpl_type?s("span",[t._v(" 签阅了"+t._s(e.tpl_name)+" ")]):7===e.tpl_type?s("span",[7===e.stateOperateType?[t._v(" 长按更新了状态 ")]:e.operation_name?[t._v(" 完成了"+t._s(e.operation_name)+" ")]:[t._v(" 手动更新了状态 ")]],2):e.operation_name?s("span",[t._v(" 完成了"+t._s(e.operation_name)+" ")]):13===e.tpl_type?s("tempate",[t._v(" "+t._s(e.operateTypeDesc)+" ")]):[s("span",[t._v("填写了"),e.log_result?[t._v(t._s(e.tpl_name))]:t._e()],2)]],2),6!==e.tpl_type&&7!==e.tpl_type?s("div",{staticClass:"record-box",class:"font-size-14-"+t.currentFontSize},[e.log_result&&t.showResult?s("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[s("span",{staticClass:"label",class:"font-size-14-"+t.currentFontSize},[t._v(" "+t._s(e.log_result_title)+"： ")]),s("span",{staticClass:"cont"},[e.isNameRecordResult&&e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"word wordResult"},[t._v(" "+t._s(e.log_result||"")+" ")])],2)]):13===e.tpl_type?s("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[s("SubCodeEditLog",{attrs:{data:e,collapse:""}})],1):s("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[s("span",{staticClass:"label",class:"font-size-14-"+t.currentFontSize},[t._v(t._s(e.tpl_name))])])]):t._e(),7===e.tpl_type?s("div",{staticClass:"record-box new-record-box"},[s("div",{staticClass:"change-status-item-wrap"},[s("div",{staticClass:"status-label",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.tplType7State.state_name)+"： ")]),s("div",{staticClass:"status-content"},[s("div",{staticClass:"status-word",class:"font-size-15-"+t.currentFontSize},[s("span",{staticClass:"word-item"},[t._v(" "+t._s(e.tplType7State.state_text)+" ")])])])])]):t._e(),s("div",{staticClass:"time-box"},[e.recordStatus.option_value?s("div",{staticClass:"statusItem",style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),s("span",{staticClass:"mr2",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[0]))]),s("span",{staticClass:"mr8",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[1]))]),e.review_count?s("span",{class:"font-size-13-"+t.currentFontSize},[s("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e()]),t.showImages?s("record-images",{attrs:{record:e}}):t._e()],1)]):t._e()]})),t._l(t.parsedRecords,(function(e,o){return s("div",{key:o,class:"item showThreeItem "+(6===e.tpl_type?"":"noMargin")+" "+(o===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[6===e.tpl_type?[t._m(0,!0),s("div",{staticClass:"right-wrap"},[s("div",{staticClass:"recorder-box",class:"font-size-13-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[s("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:s("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")])],2),s("div",{staticClass:"record-box",class:"font-size-13-"+t.currentFontSize},[t._l(e.fieldValueDataArr,(function(o,a){return[e.fieldValueDataArr&&e.fieldValueDataArr.length?[e.textAreaValue?s("span",{key:a,class:"text-word "+(3===o.type?"reminder-text":"")+" "+(e.imgDatas&&e.imgDatas.length>0?"":"noImgs")+" font-size-16-"+t.currentFontSize+"\n                    "},[t._v(" "+t._s(o.value)+" ")]):t._e()]:t._e()]})),e.imgDatas&&e.imgDatas.length>0?s("div",{staticClass:"text-img"},[t._l(e.imgDatas,(function(e,o){return[e.url?s("img",{key:o,class:o>=3?"hasMargin":"",attrs:{src:e.url,alt:"图片"}}):t._e()]}))],2):t._e(),e.audioData&&e.audioData.length>0?s("div",{staticClass:"text-audio",class:"font-size-16-"+t.currentFontSize,style:{paddingRight:3*(e.audioData[0].roundTime-1)+"px"},attrs:{"data-index":o}},[s("span",{staticClass:"clifont anticon-yuyin2"}),s("span",{staticClass:"text"},[t._v(t._s(e.audioData[0].roundTime)+"''")])]):t._e()],2),s("div",{staticClass:"time-box",class:"font-size-16-"+t.currentFontSize},[e.recordStatus.option_value?s("div",{staticClass:"statusItem",class:"font-size-16-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),e.review_count?s("span",{staticClass:"mr8",class:"font-size-13-"+t.currentFontSize},[s("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e(),s("span",{staticClass:"mr2",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[0]))]),s("span",{class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[1]))])])])]:t._e()],2)})),t._t("default")],2):s("div",{staticClass:"no-record-info new-block-info update-block-info",class:"font-size-13-"+t.currentFontSize},[t._v(" 暂无记录数据，填写后可在此查看")])]],2)},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-wrap"},[s("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"})])}];let k=class extends r["d"]{constructor(){super(...arguments),this.html="",this.isShareTpl=!1}mounted(){const{isShareTpl:t}=Object(l["o"])();this.isShareTpl="1"===t}};Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],k.prototype,"records",void 0),Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],k.prototype,"recordDetailStatusLists",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:()=>({})})],k.prototype,"codeData",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:()=>({})})],k.prototype,"logMsg",void 0),Object(i["a"])([Object(r["c"])({type:Number,default:0})],k.prototype,"openRecordActive",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!0})],k.prototype,"getRecordLoading",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],k.prototype,"afterContent",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],k.prototype,"show1",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:null})],k.prototype,"styleCfg",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],k.prototype,"currentFontSize",void 0),k=Object(i["a"])([Object(r["a"])({components:{SubCodeEditLog:_["a"],RecordImages:O},computed:{parsedRecords(){return Object(n["S"])(this.records)},showResult(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["C"])(e,h["a"].Result)}return!1},showImages(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["C"])(e,h["a"].Images)}return!1}}})],k);var $=k,M=$,R=(s("7560"),Object(C["a"])(M,D,L,!1,null,null,null)),F=R.exports,I=s("3c61"),E=s("8f21"),B=s("a7a1"),A=s("d197"),W=s("d1b2"),V=s("005c"),P=s("8e05"),H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"statusPanel",class:{afterContent:t.afterContent}},[t.statusList.length?s("div",{staticClass:"statusBoard"},t._l(t.statusList,(function(e,o){return s("div",{key:o,staticClass:"statusItem"},[s("div",{staticClass:"textCount",class:"font-size-22-"+t.currentFontSize},[t._v(" "+t._s(t.show1?"***":e.count)+" ")]),s("div",{staticClass:"textlabel",class:"font-size-15-"+t.currentFontSize,style:{color:e.textColor}},[t._v(" "+t._s(e.text)+" ")])])})),0):t._e(),t.show1||t.statusList.length?t._e():s("div",{staticClass:"emptyTips",class:"font-size-13-"+t.currentFontSize},[t._v(" 未设置统计项 ")]),t.show1?s("span",{staticClass:"btn-NeedPassword",class:[{emptyList:!t.statusList.length},t.afterContent?"font-size-15-"+t.currentFontSize:"font-size-13-"+t.currentFontSize]},[t.statusList.length?[t._v("输入密码查看")]:[s("span",{staticClass:"grayText"},[t._v("查看动态档案需要")]),t._m(0)]],2):t._e(),t._t("default")],2)},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"btnLink"},[t._v(" 输入密码"),s("i",{staticClass:"clifont anticon-cli-angle-right"})])}];let N=class extends r["d"]{constructor(){super(...arguments),this.recordStatus=[],this.statusList=[]}updateStatsCount(t){const e=this.statusList;Object(n["l"])(e,e=>{const s=(null===e||void 0===e?void 0:e.text)||"";if(s){const o=Object(n["j"])(t,t=>(null===t||void 0===t?void 0:t.process_status_txt)===s);if(!o)return;const a=(null===o||void 0===o?void 0:o.count)||0;e.count=a}}),this.statusList=e}};Object(i["a"])([Object(r["c"])({type:Object,default:null})],N.prototype,"styleCfg",void 0),Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],N.prototype,"recordStatus",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],N.prototype,"show1",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],N.prototype,"afterContent",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],N.prototype,"currentFontSize",void 0),N=Object(i["a"])([Object(r["a"])({watch:{styleCfg:{handler(){const t=this.styleCfg;if(!t)return void(this.statusList=[]);const e=Object(n["d"])(t.statsList||[]),s=[],o=[];Object(n["l"])(e,t=>{var e;const a=(null===t||void 0===t||null===(e=t.desc)||void 0===e?void 0:e.title)||(null===t||void 0===t?void 0:t.text)||"";a&&!Object(n["C"])(s,a)&&(s.push(a),o.push(t))}),this.statusList=Object(n["O"])(o,t=>{var e,s;return{...t,text:(null===t||void 0===t||null===(e=t.desc)||void 0===e?void 0:e.title)||"",count:(null===t||void 0===t?void 0:t.count)||0,textColor:(null===t||void 0===t||null===(s=t.desc)||void 0===s?void 0:s.option_color)||""}});const a=this.recordStatus;a.length&&this.updateStatsCount(a)},immediate:!0},recordStatus:{handler(t){this.updateStatsCount(t)},immediate:!0}}})],N);var Q=N,q=Q,X=(s("5c1c"),Object(C["a"])(q,H,U,!1,null,"83be639c",null)),Y=X.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"operateStats",class:{afterContent:t.afterContent}},[t.list.length?s("div",{staticClass:"operateBoard"},t._l(t.list,(function(e,o){return s("div",{key:o,staticClass:"operateItem"},[s("div",{staticClass:"textCount",class:"font-size-22-"+t.currentFontSize},[t._v(" "+t._s(t.show1?"***":e.count)+" ")]),s("div",{staticClass:"textlabel",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.title)+" ")])])})),0):t._e(),t.show1||t.list.length?t._e():s("div",{staticClass:"emptyTips",class:"font-size-13-"+t.currentFontSize},[t._v(" 未设置统计指标 ")]),t.show1?s("span",{staticClass:"btn-NeedPassword",class:[{emptyList:!t.list.length},t.afterContent?"font-size-15-"+t.currentFontSize:"font-size-13-"+t.currentFontSize]},[t.list.length?[t._v("输入密码查看")]:[s("span",{staticClass:"grayText"},[t._v("查看动态档案需要")]),t._m(0)]],2):t._e(),t._t("default")],2)},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"btnLink"},[t._v(" 输入密码"),s("i",{staticClass:"clifont anticon-cli-angle-right"})])}];let K=class extends r["d"]{constructor(){super(...arguments),this.recordStatsList=[],this.list=[]}};Object(i["a"])([Object(r["c"])({type:Object,default:null})],K.prototype,"styleCfg",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],K.prototype,"afterContent",void 0),Object(i["a"])([Object(r["c"])({type:Array,default:()=>[]})],K.prototype,"recordStatsList",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],K.prototype,"show1",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],K.prototype,"currentFontSize",void 0),K=Object(i["a"])([Object(r["a"])({watch:{styleCfg:{handler(){const t=this.styleCfg;if(!t)return void(this.list=[]);const e=Object(n["d"])(t.statsList||[]);Object(n["l"])(e,t=>{t.count=0}),this.list=Object(n["O"])(e,t=>({...t,count:(null===t||void 0===t?void 0:t.count)||0}))},immediate:!0},recordStatsList(t){const e=this.list;Object(n["l"])(e,e=>{const s=e.id,o=Object(n["j"])(t,t=>(null===t||void 0===t?void 0:t.id)===s);o&&(e.count=o.count||0)}),this.list=e}}})],K);var Z=K,tt=Z,et=(s("5221"),Object(C["a"])(tt,J,G,!1,null,"0ae439da",null)),st=et.exports;let ot=class extends r["d"]{constructor(){super(...arguments),this.logMsg={last_desc:{},data_list:[]},this.DynamicStyleType=P["c"],this.operateData=[],this.expBtnBG="",this.expBtnColor="",this.overIphoneX=!1,this.isEnableToMina=!1,this.isEnableSystem=!1,this.isEnableWx=!1,this.hasWxVersion=!1,this.records=[],this.getRecordLoading=!0,this.recordsTotal=0,this.recordDetailStatusLists=[],this.recordStatsList=[],this.defaultHeaderUrl=B["m"]+"/images/mina-cli/header.png",this.openRecordActive=0,this.OPERATE_ITEM_DEFAULT_TITLE=A["h"],this.OPERATE_ITEM_DEFAULT_BUTTON_TEXT=A["g"],this.dynamicStyleCfg=null,this.isStatsStyle=!1,this.operatePos=h["b"].Head}codeDataChange(t){this.logMsg=t.log_msg,this.operateData=t.operateData}showRecordTip(){c["a"].logClick(104,146056,"",{cvid:(new E["a"]).id,expandLog:1});let t="toMina";this.$$appStore.h5QueryString.frompc?t="":this.isEnableToMina&&c["a"].logClick(104,146057,"",{cvid:(new E["a"]).id}),this.showTip(t,"normal")}goHistory(){if(this.$$appStore.h5QueryString.frompc&&"qrcode_19_noPowerError"!==this.logMsg.status_code){const{isShareTpl:t}=Object(l["o"])();this.$$go("/pages/record-history/main",{isPaidUser:this.isPaidUser,isShareTpl:t})}else this.showTip("recordCheck","recordCheck")}goRecordFormPage(t){if(t.$elType===W["b"].STATE&&this.$$appStore.h5QueryString.frompc){console.log(t);const e=t.$elData.state_id;this.$$go("/pages/status-detail-main",{url:this.$route.query.url,stateId:e})}else if(t.$elType===W["b"].PLACEHOLDER&&this.$$appStore.h5QueryString.frompc){var e,s,o;const{tpl_qrcode_status:a,id:i,tpl_id:r}=(null===(e=this.codeData)||void 0===e?void 0:e.qrcode_record)||{},n=4===a?i:null===(s=this.codeData)||void 0===s||null===(o=s.form_data)||void 0===o?void 0:o.code_id,c=r||0;this.$$go("/pages/placeholder-detail-main",{url:this.$route.query.url,operateItem:encodeURIComponent(JSON.stringify(t||{})),batchData:encodeURIComponent(JSON.stringify({id:n||0,tpl_id:c}))})}else if(!t.$customLimit)if(c["a"].logClick(104,146056,"",{cvid:(new E["a"]).id,expandLog:0}),this.$$appStore.h5QueryString.frompc&&t.$elType===W["b"].TPL)this.$$go("/pages/record-form/main",{org_id:t.$elData.org_id,tpl_id:t.$elData.tpl_id,currentFontSize:this.currentFontSize,token:encodeURIComponent(JSON.stringify(t.$elData.record_tpl_token||{}))});else{const{$elType:e,$elData:s}=t;let o;if(e===W["b"].LINK){const t=encodeURIComponent("type=6&"),e=Object(l["h"])(Object.keys(Object(l["ab"])(s)),e=>0===e.indexOf(t));e&&(o=s.replace("navLink:","").replace("?"+e,"").replace("&"+e,""))}if(o)window.open(o);else{const e=t.operation_id||t.$elData.tpl_id;this.showTip("listToMina",e)}}}async goFormListPage(){c["a"].logClick(104,146056,"",{cvid:(new E["a"]).id,expandLog:2}),this.$$appStore.h5QueryString.frompc?(await I["a"].setKey({key:"recordPageCompProp",value:this.codeData}),this.$$go("/pages/record-form-list/main",{currentFontSize:this.currentFontSizeWithoutApply})):this.showTip("bottomToMina","bottomBtn")}mounted(){this.logMsg=this.codeData.log_msg||{},this.operateData=this.codeData.operateData||[],this.logMsg.expand_log=this.logMsg.expand_log||0,this.calcBtnColor(),this.overIphoneX=Object(l["K"])()||this.$$appStore.h5QueryString.frompc,this.$$appStore.h5QueryString.cutscreentpl&&this.goFormListPage(),this.isEnableToMina=Object(V["q"])(),this.isEnableSystem=Object(V["s"])()?Object(V["h"])(Object(V["m"])(),"10.3"):Object(V["h"])(Object(V["g"])(),"5.0"),this.isEnableWx=!!Object(V["v"])()&&Object(V["h"])(Object(V["v"])(),"7.0.12"),this.hasWxVersion=!!Object(V["v"])(),this.getRecords()}async getStatusList(){const t=Object(n["x"])(this.codeData,"qrcode_record.id",0),e=await c["c"].getRecordsGroupByProcessStatus({code_id:t});if(1===e.code){const t=Object(n["x"])(e,"data",[]);t&&t.length&&(this.recordDetailStatusLists=t)}}async getRecordStatsList(){const t=Object(n["x"])(this.codeData,"qrcode_record.id",0),e=Object(n["x"])(this.codeData,"qrcode_record.org_id",0),s=await c["c"].getRecordOperateStats({qrcode_id:t,org_id:e});if(1===(null===s||void 0===s?void 0:s.code)){const t=Object(n["x"])(s,"data",[]);t&&t.length&&(this.recordStatsList=t)}}async getRecords(){const{h5QueryString:t}=this.$$appStore,e=t.frompc,s=Object(n["x"])(this.codeData,"codeCommonInfo.hasOpenRecordView",!1),o=Object(n["x"])(this.codeData,"log_msg.visible_auth",0),a=Object(n["x"])(this.codeData,"log_msg"),i=Object(h["f"])(a),{showCount:r,styleType:d,posType:p}=i,u=d===P["c"].Stats||d===P["c"].ClosedStats;this.isStatsStyle=u,this.dynamicStyleCfg=i;const _=Object(h["d"])(a);if(this.operatePos=_,d===P["c"].Stats&&this.getRecordStatsList(),!s||!e&&4!==o)return void(this.getRecordLoading=!1);this.getRecordLoading=!0;const g=Object(n["x"])(this.codeData,"qrcode_record.org_id",0),m=await c["c"].getRecordHistorySimplifyDissociate({page:1,size:r,org_id:g,list_type:0,use_to_preview:t.batchactivetplcase||""});if(1===Object(n["x"])(m,"code")){const t=Object(n["x"])(m,"data.list",[]),e=[],s=t=>{let e=[];Object(l["j"])(t,t=>{t.fields&&(e=e.concat(t.fields))});const s=e.filter(t=>"customer_number"===t.type);return s},o=t=>{const e=Object(l["U"])(t,["年","月","日"]),s=e.split("年")[1],o=s.split(" "),a=(new Date).toLocaleDateString(),i=Date.parse(a)/1e3,r=Math.floor((i-t)/60/60/24);return-1===r?o[0]="今天":0===r&&(o[0]="昨天"),o};t&&t.length>0&&this.getStatusList(),Object(l["j"])(t,t=>{let a="",i=[],r=[];const c=Object(n["x"])(t,"tpl_groups.0.fields",[]);Object(l["j"])(c,t=>{"textarea"===t.type?a=t.value:"image"===t.type?i=t.value:"audio"===t.type&&(r=t.value)});let d=[];const p=[{text:null===t||void 0===t?void 0:t.process_status_txt,value:null===t||void 0===t?void 0:t.process_status,textColor:null===t||void 0===t?void 0:t.option_color,bgColor:null!==t&&void 0!==t&&t.option_color?Object(n["Q"])(t.option_color,.1):""}];console.log("commonFilterStatus",p);let u={};p.length&&(d=p,d[0].textColor=p[0].textColor,d[0].bgColor=p[0].bgColor,d[0].option_value=Number(t.process_status),d[0].option_text=Object(n["x"])(t,"process_status_txt"),u=d[0]),console.log("recordStatus",u);const _=Object(n["x"])(t,"tpl_type")||0,g=n["T"].getTplType7State(t),m=this.handleCodeReviewValue(a);let h;h="管理员"===t.recorder?t.recorder.substring(0,2):-1!==t.recorder.indexOf("****")?"_mobile":t.recorder.substring(t.recorder.length-2),e.push({tpl_name:Object(n["x"])(t,"record_tpl_info.name"),operation_name:Object(n["x"])(t,"operation_name"),add_time:o(t.add_time_timestamp),recorder:t.recorder,log_result:Object(n["x"])(t,"record_result_value_txt"),log_result_title:Object(n["x"])(t,"record_result_field_title"),cusNumbers:s(t.tpl_groups),tpl_type:_,create_avatar_url:Object(n["x"])(t,"create_avatar_url"),textAreaValue:a,imgDatas:i,audioData:r,fieldValueDataArr:m,recordStatus:u,review_count:Object(n["x"])(t,"review_count"),recorderLimit:h,tplType7State:g,wxWorkMsg:Object(n["x"])(t,"wx_work_msg",{}),isNameRecordResult:"name"===Object(n["x"])(t,"record_result_list.0.record_result_field_type"),tpl_groups:t.tpl_groups})}),this.records=e,this.recordsTotal=Object(n["x"])(m,"data.page.record_total",0),this.openRecordActive=Object(n["x"])(m,"data.org_msg.open_record_active",0)}this.getRecordLoading=!1}enUnicode(t){let e="";for(let s=0;s<t.length;s+=1)e+="\\u"+("0000"+t.charCodeAt(s).toString(16)).slice(-4);return e}deUnicode(t){let e=t.split("\\u");t.startsWith("\\u")&&(e=e.slice(1,e.length)),t.endsWith("\\u")&&(e=e.slice(0,e.length-1));let s="";for(let o=0;o<e.length;o+=1)s+=String.fromCharCode(parseInt(e[o],16));return s}handleCodeReviewValue(t){const e=t,s=[],o=this.enUnicode(e),a=o.split(/(\\u0040.*?\\u2005)/);return Object(l["j"])(a,t=>{if(""!==t){const e=t.split(/\\u2005/),o=this.deUnicode(t);e.length<2?s.push({type:1,value:o}):s.push({type:3,value:o})}}),s}calcBtnColor(){const t=this.codeColorInfo;let e="",s="";Object(n["C"])(["#f8f8f8","#fff","#ffffff"],t.themeColor)?(s="#07c160",e="#ffffff"):Object(n["C"])(["#fff","#ffffff"],t.foreColor)?(s=t.themeColor,e="#ffffff"):(s=t.lowThemeColor,e="#ffffff"),this.expBtnColor=e,this.expBtnBG=s}formatTimestamp(t){return Object(l["V"])(t)}transColor(t){return Object(W["d"])(t)}isEmptyContent(t){return Object(W["c"])(t)}timestamp2Date(t){return Object(l["U"])(t)}cutRecordTitle(t){return t?t.length<=8?[t.slice(0,4),t.slice(4)]:[t.slice(0,4),t.slice(4,7)+"..."]:[t]}showDot(t){return t<this.$$getValue(this.logMsg,"data_list.0.time_limit_record.length",0)-1}get codeColorInfo(){return this.forCheckInRich?{recordEntry:{bg:"rgba(0, 0, 0, 0.05)",titleColor:"#333",other:"rgba(0, 0, 0, 0.87)"},type:"pure"}:this.codeData.codeCommonInfo.codeColorInfo}getForeColor(){return"color: "+this.codeColorInfo.recordEntry.titleColor}showTip(t,e){this.$emit("showTip",t,e)}calcMinaBottom(){const t=this.overIphoneX;let e=0,s=10;return this.showToMinaTips&&(e+=60,t&&(e+=30)),this.showToMinaTips||(s+=t?30:4),`bottom: ${this.$$u(e)};padding-bottom: ${this.$$u(s)}`}};Object(i["a"])([Object(r["c"])({type:Object,default:()=>({})})],ot.prototype,"codeData",void 0),Object(i["a"])([Object(r["c"])({type:String,default:""})],ot.prototype,"title",void 0),Object(i["a"])([Object(r["c"])({type:String,default:()=>""})],ot.prototype,"originalId",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"wxConfigReady",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"noNewestRecord",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"noRecordTag",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"noAddRecordBtn",void 0),Object(i["a"])([Object(r["c"])({type:Number,default:()=>1})],ot.prototype,"isPaidUser",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"forCheckInRich",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"hasOpenRecordLog",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],ot.prototype,"isH5FromWeixin",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],ot.prototype,"showToMinaTips",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!0})],ot.prototype,"showOperatePanel",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!0})],ot.prototype,"showDynamic",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],ot.prototype,"currentFontSize",void 0),Object(i["a"])([Object(r["c"])({type:String,default:"1"})],ot.prototype,"currentFontSizeWithoutApply",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],ot.prototype,"placeBottom",void 0),Object(i["a"])([Object(r["c"])({type:Boolean,default:!1})],ot.prototype,"afterContent",void 0),Object(i["a"])([Object(r["c"])({type:Object,default:null})],ot.prototype,"cmpInfo",void 0),Object(i["a"])([Object(r["e"])("codeData",{deep:!0})],ot.prototype,"codeDataChange",null),ot=Object(i["a"])([Object(r["a"])({components:{RecordForm:d["a"],TimeLineLists:z,RecordBlockLists:F,StatusPanel:Y,OperateStats:st},computed:{dynamicStyleType(){const{dynamicStyleCfg:t,logMsg:e}=this,s=Object(n["x"])(e,"recordview_position",P["c"].UnionList);return t&&t.styleType||s},show1(){const{logMsg:t}=this;return"qrcode_19_noPowerError"===t.status_code},show2(){const{noNewestRecord:t,codeData:e}=this;return!t&&!e.record_summary_status&&2!==e.recordview_position},show3(){const{logMsg:t,noAddRecordBtn:e,operateData:s}=this;return 0===t.expand_log||4===t.expand_log||5===t.expand_log||6===t.expand_log||e&&s.length>1},show4(){const{logMsg:t,noAddRecordBtn:e,operateData:s}=this;return(1===t.expand_log||e)&&1===s.length&&!!s[0].$elData},hasRecordContent(){const{show1:t,show2:e,show3:s,show4:o}=this;return t||e||s||o},hasTopModule(){const{codeData:t}=this,e=t.qrcode_top_component;return!!e&&Object(n["U"])(e,t=>Object(n["C"])(["audio","video","image","file"],t.component_code))},hasTaskOrStatus(){const{codeData:t}=this;return!!Object(n["x"])(t,"statusList.length")||!!Object(n["x"])(t,"tasksList.length")},logMsgTag(){const{codeData:t}=this;return Object(l["Z"])(Object(n["x"])(t,"log_msg_tag",""))}}})],ot);var at=ot,it=at,rt=(s("8794"),Object(C["a"])(it,o,a,!1,null,"038857dc",null));e["a"]=rt.exports},7560:function(t,e,s){"use strict";s("1848")},7963:function(t,e,s){"use strict";s.d(e,"c",(function(){return o})),s.d(e,"a",(function(){return i})),s.d(e,"f",(function(){return h})),s.d(e,"e",(function(){return f})),s.d(e,"b",(function(){return v})),s.d(e,"d",(function(){return y}));var o,a,i,r,n,c,l=s("131c"),d=s("8e05");(function(t){t[t["Head"]=1]="Head",t[t["Hide"]=2]="Hide",t[t["Body"]=3]="Body"})(o||(o={})),function(t){t[t["One"]=1]="One",t[t["Three"]=3]="Three",t["Custom"]="custom"}(a||(a={})),function(t){t[t["Result"]=1]="Result",t[t["Images"]=2]="Images",t["Count"]="count"}(i||(i={})),function(t){t[t["Total"]=1]="Total",t[t["CurrentWeek"]=2]="CurrentWeek",t[t["CurrentMonth"]=3]="CurrentMonth",t[t["CurrentYear"]=4]="CurrentYear",t[t["LastYear"]=5]="LastYear",t[t["LastMonth"]=6]="LastMonth",t[t["LastWeek"]=7]="LastWeek",t[t["Today"]=8]="Today",t[t["Yesterday"]=9]="Yesterday"}(r||(r={})),function(t){t[t["Stats"]=1]="Stats",t[t["ClosedStats"]=2]="ClosedStats"}(n||(n={})),function(t){t[t["Total"]=1]="Total",t[t["Result"]=2]="Result",t[t["ClosedStatus"]=3]="ClosedStatus"}(c||(c={}));const p=[i.Result,i.Images],u=[d["c"].List1,d["c"].List3],_=t=>Object(l["C"])(u.concat(d["c"].UnionList),t),g=[o.Head,o.Body,o.Hide],m=({posType:t,styleType:e})=>e===d["c"].Hide?o.Hide:t&&Object(l["C"])(g,t)?t:o.Head,h=t=>{const{recordview_position:e,recordview_extend:s}=t,i={styleType:d["c"].TimeLine,posType:o.Head,showCount:a.Three,showContent:Object(l["d"])(p),statsList:[]},r=e||d["c"].TimeLine,n=_(r)?d["c"].UnionList:r;if(!s)return i;const{nums:c,content_type:u,content_position:g}=(null===s||void 0===s?void 0:s.ext_info)||{nums:a.Three,content_type:Object(l["d"])(p),content_position:o.Head},h=m({posType:g,styleType:n}),f=Object(l["d"])((null===s||void 0===s?void 0:s.statistics_configs)||[]);return Object(l["a"])(i,{styleType:n,posType:h,showCount:c,showContent:u,statsList:f})},f=t=>{const e=(null===t||void 0===t?void 0:t.tpl_groups)||[],s=[];return Object(l["l"])(e,t=>{const e=t.fields||[],o=Object(l["i"])(e,t=>"image"===(null===t||void 0===t?void 0:t.type));Object(l["l"])(o,t=>{const e=t.value||[];Array.isArray(e)&&s.push(...e)})}),s};var v;(function(t){t[t["Head"]=1]="Head",t[t["BodyBottom"]=2]="BodyBottom",t[t["Hide"]=3]="Hide"})(v||(v={}));const y=t=>{t||console.error("dataSource is expected in getDynamicShowPos(), dataSource: ",t);const e=Object(l["x"])(t,"expand_log")||d["b"].BlockList;if(e===d["b"].Hide)return d["b"].Hide;const s=Object(l["x"])(t,"recordview_extend.operation_ext_info"),o=+Object(l["x"])(s,"content_position",v.Head);return o}},8794:function(t,e,s){"use strict";s("bb66")},"9def":function(t,e,s){},b1ba:function(t,e,s){"use strict";s("50cb")},bb66:function(t,e,s){}}]);