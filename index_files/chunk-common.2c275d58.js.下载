(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"005c":function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i})),o.d(e,"d",(function(){return c})),o.d(e,"c",(function(){return a})),o.d(e,"e",(function(){return s})),o.d(e,"f",(function(){return p})),o.d(e,"t",(function(){return h})),o.d(e,"u",(function(){return f})),o.d(e,"j",(function(){return m})),o.d(e,"l",(function(){return g})),o.d(e,"i",(function(){return b})),o.d(e,"k",(function(){return _})),o.d(e,"s",(function(){return O})),o.d(e,"n",(function(){return y})),o.d(e,"m",(function(){return v})),o.d(e,"g",(function(){return j})),o.d(e,"v",(function(){return C})),o.d(e,"h",(function(){return E})),o.d(e,"q",(function(){return x})),o.d(e,"o",(function(){return T})),o.d(e,"r",(function(){return A})),o.d(e,"p",(function(){return S}));var r=o("3c61");function n(t,e=window.document){return e.querySelector(t)}function i(t,e=window.document){const o=[],r=e.querySelectorAll(t);for(let n=0;n<r.length;n+=1)o.push(r[n]);return o}function c(t,e=300){t.style.opacity="0",setTimeout(()=>{t.style.display="none"},e)}function a(t,e="block"){t.style.display=e,setTimeout(()=>{t.style.opacity="1"})}function s(t,e){return t?t.currentStyle?t.currentStyle[e]:getComputedStyle(t,null)[e]:""}const l=t=>t.scrollTop,d=t=>t.scrollHeight,u=t=>t.clientHeight,p=t=>{const e=l(t),o=d(t),r=u(t);return e+r>=o},h=t=>{const e=t.split("?")[1];if(!e)return{};const o=e.split("&"),r={};return o.forEach(t=>{const[e,o]=t.split("=");r[e]=o}),r},f=t=>localStorage.setItem("__h5-openid",t),m=()=>localStorage.getItem("__h5-openid")||"",g=(t="")=>!!r["a"].h5QueryString[t.toLocaleLowerCase()],b=t=>{const e=document.createElement("textarea");e.style.cssText="position:absolute;left:-10000px;top:-10000px;",e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(o){console.error(o)}document.body.removeChild(e)},_=()=>{const t=document.querySelector(".__code_module-content"),e=document.querySelector(".__code_bottom-content"),o=document.querySelector("#__empty-container"),r=document.querySelector(".__empty-container-bottom"),{clientHeight:n}=document.documentElement;if(!t||!e)return 0;const i=parseInt(s(e,"height"),10),c=parseInt(s(o,"height"),10)||0,a=parseInt(s(r,"height"),10)||0,l=n-i-c-a;return l},O=()=>{const t=navigator.userAgent;return!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},y=()=>{const t=navigator.userAgent;return t.indexOf("Android")>-1||t.indexOf("Adr")>-1},v=()=>{const t=navigator.userAgent,e=t.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".");return t===e?"":e},j=()=>{const t=navigator.userAgent,e=t.match(/Android ([/\d/.]+)/i);return e?e[1]:""},C=()=>{const t=navigator.userAgent,e=t.match(/MicroMessenger\/([/\d/.]+)/i);if(e){const o=!!t.match(/WxWork/i);return o?"":e[1]}return""},w=()=>{const t=navigator.userAgent,e=t.match(/WxWork\/([/\d/.]+)/i);return e?e[1]:""},E=(t,e)=>{if(t===e)return!0;const o=t.split("."),r=e.split("."),n=Math.max(o.length,r.length);if(o.length<n)for(let c=o.length;c<n;c++)o[c]=0;else if(r.length<n)for(let c=r.length;c<n;c++)r[c]=0;let i=!1;for(let c=0,a=o.length;c<a;c++){const t=Number(o[c]),e=Number(r[c]);if(t<e)break;if(t>e){i=!0;break}}return i},x=()=>{const t=O()?E(v(),"10.3"):E(j(),"5.0");return!!C()&&E(C(),"7.0.12")&&t},T=()=>{const t=[" qq","mqqbrowser","huaweibrowser","safari","miuibrowser","wxwork"];let e=!1;return t.forEach(t=>{navigator.userAgent.toLowerCase().indexOf(t)>-1&&(e=!0)}),e},A=()=>{const t=navigator.userAgent,e=t.match(/wxwork\//i);return!!e},S=()=>{const t=!!w()&&E(w(),"3.0.36");return t}},"03d1":function(t,e,o){"use strict";var r=o("f1d0"),n=o("1ddc"),i=o("08f7"),c=o("76ac"),a=o("dfe4"),s=o("b6f3"),l=o("faaf"),d=o("0c6d"),u=o("8262"),p=o("77ed");class h{constructor({data:t,project:e,dpr:o,windowWidth:c,imageStyle1Margin:s}){this.data=null,this.project=null,this.originDpr=1,this.originWindowWidth=0,this.imageStyle1Margin=0,this.computedDpr=1,this.computedWindowWidth=0,this.images=[],this.imageStyle=r["b"].IMAGE_STYLE_1,this.prewType=r["d"].TILE,this.data=t,this.project=e,this.originDpr=o,this.originWindowWidth=c,this.imageStyle1Margin=s,this.computeDpr(),this.computeWindowWidth();const{computedWindowWidth:l}=this,d=Object(i["a"])(t,"attribute_list",[]),u=Object(n["a"])(d,t=>{const{deleteFlag:e,type:o}=t,r=Object(i["a"])(t,"image_url.value");return!e&&"loadingItem"!==o&&!!r});this.images=Object(a["a"])(u,(t,o)=>{0===o&&(this.imageStyle=Object(i["a"])(t,"image_style.value",r["b"].IMAGE_STYLE_1),this.prewType=Object(i["a"])(t,"prew_type.value",r["d"].TILE));const{imageStyle:n,prewType:c}=this;return new p["a"]({data:t,project:e,imageStyle:n,prewType:c,isSingle:1===u.length,computedWindowWidth:l,imageStyle1Margin:s})})}static hasNoSize(t){const e=Object(i["a"])(t,"attribute_list",[]);return Object(s["a"])(e,t=>p["a"].hasNoSize(t))}static addOssSuffix(t,e){return p["a"].addOssSuffix(t,e)}static getComputedUrl(t){const e=Object(a["a"])(t.data,e=>{if(e.value&&1!==e.status)return p["a"].getComputedUrl({data:e.value,windowWidth:t.windowWidth})}).filter(t=>!!t);return t.type?Object(a["a"])(e,t=>t.url):Object(a["a"])(e,t=>t.previewUrl)}static getComputedImages(t){return Object(a["a"])(t.data,e=>{if(e.value&&1!==e.status)return p["a"].getComputedImage({data:e.value,windowWidth:t.windowWidth})}).filter(t=>!!t)}static initColors({themeColor:t,textColor:e,hasRecord:o}){return o&&!t&&(t="f4f4f4",e="000000"),t=(t||"").replace("#",""),e=(e||"").replace("#",""),{themeColor:t,textColor:e}}static getSwiperDotColors({themeColor:t,textColor:e,project:o,position:n,imageStyle:a,hasTitle:s,hasRecord:d,hasRichText:u,isGradient:p}){({themeColor:t,textColor:e}=h.initColors({themeColor:t,textColor:e,hasRecord:d}));const f=!!t&&!Object(c["a"])(t),m=Object(c["a"])(e),g=f&&!m;let b=!1;b=o===r["e"].CONSOLE||a===r["b"].IMAGE_STYLE_1||a===r["b"].IMAGE_STYLE_3&&s||d||p&&g?n===r["c"].TOP_MODULE:!u;const _=f&&b;let O="",y="";return _?m?(O="#ffffff",y="rgba(255, 255, 255, 0.5)"):(O=Object(i["a"])(Object(l["a"])(t),"blockColor",""),y="rgba(0, 0, 0, 0.15)"):f?m?(O="#"+t,y="rgba(0, 0, 0, 0.15)"):(O=Object(i["a"])(Object(l["a"])(t),"blockColor",""),y="rgba(0, 0, 0, 0.15)"):(O="#07C160",y="rgba(0, 0, 0, 0.15)"),"ffdf22"===t.toLocaleLowerCase()&&(O="#99871f"),{activeColor:O,defaultColor:y,bgUseThemeColor:b}}computeDpr(){const{originDpr:t}=this;this.computedDpr=Object(d["a"])(t)}computeWindowWidth(){const{project:t,computedDpr:e,originWindowWidth:o}=this;this.computedWindowWidth=Object(u["a"])({project:t,computedDpr:e,originWindowWidth:o})}}e["a"]=h},"07f0":function(t,e,o){"use strict";o.d(e,"b",(function(){return c})),o.d(e,"a",(function(){return a}));var r=o("131c");const n="online",i={net:"net",online:"online",com:"com",exp:"exp"},c=()=>"production"===n?"online":i[n]||"",a=t=>{Object(r["C"])(["com","net","online","onlineTest","exp"],t)||console.error("环境必须是com、net、online、onlineTest、exp中的一种")}},"08f7":function(t,e,o){"use strict";var r=o("f64c"),n=o("a607");function i(t,e,o){if(!e)return null==t?Object(r["a"])(o)?t:o:t;let c=i(t,null,{});const a=e.split("."),s=a.length;return Object(n["a"])(a,(t,e)=>{c=i(c[t],null,e!==s-1?{}:o)}),c}e["a"]=i},"0c6d":function(t,e,o){"use strict";e["a"]=t=>{let e=1;return t>=3?e=3:t>=2&&(e=2),e}},"0cbb":function(t,e,o){"use strict";e["a"]=t=>"[object String]"===Object.prototype.toString.call(t)},1:function(t,e){},"131c":function(t,e,o){"use strict";o.d(e,"a",(function(){return r["a"]})),o.d(e,"d",(function(){return i["a"]})),o.d(e,"e",(function(){return c})),o.d(e,"i",(function(){return a["a"]})),o.d(e,"l",(function(){return n["a"]})),o.d(e,"x",(function(){return s["a"]})),o.d(e,"z",(function(){return u})),o.d(e,"A",(function(){return h})),o.d(e,"B",(function(){return m})),o.d(e,"C",(function(){return d["a"]})),o.d(e,"D",(function(){return g["a"]})),o.d(e,"E",(function(){return O})),o.d(e,"G",(function(){return y})),o.d(e,"H",(function(){return v["a"]})),o.d(e,"I",(function(){return j["a"]})),o.d(e,"K",(function(){return C["a"]})),o.d(e,"L",(function(){return w["a"]})),o.d(e,"M",(function(){return T})),o.d(e,"N",(function(){return A})),o.d(e,"O",(function(){return S["a"]})),o.d(e,"P",(function(){return R})),o.d(e,"R",(function(){return _})),o.d(e,"U",(function(){return l["a"]})),o.d(e,"W",(function(){return I})),o.d(e,"X",(function(){return D})),o.d(e,"k",(function(){return $})),o.d(e,"g",(function(){return L})),o.d(e,"V",(function(){return k})),o.d(e,"F",(function(){return B})),o.d(e,"n",(function(){return P})),o.d(e,"J",(function(){return U})),o.d(e,"c",(function(){return W})),o.d(e,"v",(function(){return F})),o.d(e,"h",(function(){return bt})),o.d(e,"m",(function(){return Ot})),o.d(e,"q",(function(){return yt})),o.d(e,"u",(function(){return vt})),o.d(e,"f",(function(){return jt})),o.d(e,"w",(function(){return Ct})),o.d(e,"j",(function(){return Y["a"]})),o.d(e,"y",(function(){return p})),o.d(e,"b",(function(){return wt})),o.d(e,"t",(function(){return xt})),o.d(e,"T",(function(){return Pt})),o.d(e,"Q",(function(){return Ut})),o.d(e,"r",(function(){return Gt})),o.d(e,"S",(function(){return Yt})),o.d(e,"p",(function(){return zt})),o.d(e,"o",(function(){return Jt})),o.d(e,"s",(function(){return Kt}));var r=o("d2a4"),n=o("a607"),i=o("d6ad"),c=t=>{let e="";try{e=decodeURIComponent(t)}catch(o){console.warn(o.message)}return e},a=o("1ddc"),s=o("08f7"),l=o("b6f3"),d=o("76a4"),u=t=>Object(l["a"])(t,t=>{const{component_code:e}=t;if("text"===e){const e=Object(s["a"])(t,"attribute_list.0.content_html.value","");return Object(d["a"])(e,"<img ")}return!1}),p=(t,e)=>(t=t||"",Object(l["a"])(t.match(/ class="(.+?)"/g),t=>{t=t||"";const o=t.split('"');if(3===o.length){const t=(o[1]||"").split(" ");if(Object(d["a"])(t,e))return!0}return!1})),h=t=>{let e=!1,o=null;return Object(n["a"])(t,t=>{const r=Object(s["a"])(t,"component_code"),n=Object(s["a"])(t,"attribute_list.0.content_html.value","");if("text"===r&&n&&'<hr class="ql-hr" />'!==n&&(!p(n,"stylelib-wrapper")||Object(d["a"])(n,' data-contenteditable="true"'))&&n===o)return e=!0,!1;o=n}),e},f=o("03d1"),m=t=>Object(l["a"])(t,t=>{const{component_code:e}=t;return"image"===e&&f["a"].hasNoSize(t)}),g=o("a719");function b(t,e){let o=null;if(t)try{o=JSON.parse(t)}catch(r){console.warn(r.message)}return null==o&&null!=e&&(o=e),o}var _=b,O=t=>Object(l["a"])(t,t=>{const{component_code:e}=t;if("table"!==e)return!1;const o=Object(s["a"])(t,"attribute_list.0.table_html.value",""),r=_(o,{}),i=Object(s["a"])(r,"columns",[]);let c="",a=0;return Object(n["a"])(i,t=>{const{title:e,colSpan:o=0}=t;c=c||e,a+=o}),!!c&&0===a}),y=t=>"[object Function]"===Object.prototype.toString.call(t),v=o("1894"),j=o("cb9b"),C=o("0cbb"),w=o("f64c"),E=(o("76ac"),o("8033")),x=o.n(E),T=t=>{const e=x.a.fromHex(t),o=e.toHsvArray(),r=e.toRgbObject();return r.r===r.g&&r.g===r.b?r.r>240?"#06ae56":"#222":(o[1]<=30?o[0]>=0&&o[0]<=40||o[0]>=320&&o[0]<=360?(o[1]=50,o[2]=75):o[0]>=160&&o[0]<=260?(o[1]=50,o[2]=65):o[0]>40&&o[0]<160?(o[1]=40,o[2]=65):(o[1]=50,o[2]=55):o[2]>=0&&o[2]<=30?o[2]+=30:o[2]-=30,x.a.fromHsvArray(o).toHex())},A=t=>{const e=x.a.fromHex(t),o=e.toHsvArray(),r=e.toRgbObject();return r.r===r.g&&r.g===r.b?r.r>240?"#2aad67":"#333":(o[1]<=30?o[0]>=0&&o[0]<=40||o[0]>=320&&o[0]<=360?(o[1]=50,o[2]=90):o[0]>=160&&o[0]<=260?(o[1]=50,o[2]=80):o[0]>40&&o[0]<160?(o[1]=40,o[2]=80):(o[1]=50,o[2]=70):o[2]>=0&&o[2]<=15?o[2]+=15:o[2]-=15,x.a.fromHsvArray(o).toHex())},S=o("dfe4"),R=(t,e)=>{t=t||{};const o=[];return Object(n["a"])(t,(t,r)=>{null!=t&&(Object(g["a"])(t)?Object(n["a"])(t,t=>{o.push(`${r}=${e?t:encodeURIComponent(t)}`)}):o.push(`${r}=${e?t:encodeURIComponent(t)}`))}),o.join("&")};o("d9e2"),o("7aa6");var I=(t,e)=>{null==e&&(e=1500);let o=0;return function(...r){const n=(new Date).getTime();(!o||n-o>e)&&(t.apply(this,r),o=n)}},D=(o("faaf"),(t,e)=>{const o=t.indexOf("?");o>-1&&(t=t.substr(o+1));const r={};return t&&Object(n["a"])(t.split("&"),t=>{const o=t.split("="),n=o[0]||"";let i=o[1]||"";i=i.replace(/\+/g,"%20"),i=e?i:c(i);const a=r[n];null==a?r[n]=i:Object(g["a"])(a)?a.push(i):r[n]=[a,i]}),r}),$=function(t,e){if(!t)return-1;const o=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");const r=arguments[1];let n=0;while(n<o){const o=t[n];if(e.call(r,o,n,t))return n;n++}return-1},L=function(t){const e=Object.keys(t);let o=e.length;const r=new Array(o);while(o--)r[o]=[e[o],t[e[o]]];return r};function M(t){try{if("object"===typeof JSON.parse(t)&&t)return!0}catch(e){return!1}return!1}var H=M;function k(t,{filterEmptyTels:e=!1}={filterEmptyTels:!1}){let o=[];return H(t)?Object(g["a"])(JSON.parse(t))?o=JSON.parse(t):o.push(""):Object(C["a"])(t)?o.push(t):o.push(""),e&&(o=Object(a["a"])(o,t=>!!t)),o}function B(t){let e=!1;if(H(t)){const o=JSON.parse(t);Object(g["a"])(o)&&(Object(s["a"])(Object(a["a"])(o,t=>t),"length")||(e=!0))}else Object(C["a"])(t)?t.trim()||(e=!0):e=!t;return e}var q=o("28ec");function N(t){let e="qrcode";return Object(C["a"])(t)&&(t=Object(s["a"])(t.split("?"),"0",""),/\/sy\//.test(t)&&(e="summary")),e}var P=N;var U=t=>"[object Object]"===Object.prototype.toString.call(t),W=t=>Object.keys(t).filter(e=>t[e]).map(e=>`${e}=${t[e]}`).join("&"),F=(t,e)=>{const o=Object(s["a"])(t,"form_component_id"),r=Object(s["a"])(t,"form_component_title"),n=Object(s["a"])(t,"form_component_uuid"),i=Object(s["a"])(t,"form_field_id"),c={id:o,title:r,uuid:n,fieldId:i};return e?c[e]:c},G=t=>{const e=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;if(e.test(t)){if(18===t.length){const e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=[1,0,10,9,8,7,6,5,4,3,2];let r=0;for(let c=0;c<17;c++)r+=t.substring(c,c+1)*e[c];const n=r%11,i=t.substring(17);return 2===n?"X"===i||"x"===i:+i===o[n]}return!1}return!1},Y=o("300c");const z=21600,Q=21600,J=21600,K=21600,V=86400,X=86400,Z={date:{el:".date",msg:"内容不能为空"},file:{el:"",msg:"内容不能为空"},text:{el:".input-wrap",msg:"内容不能为空"},textarea:{el:".textarea",msg:"内容不能为空"},number:{el:".number-wrap",msg:"内容不能为空"},identity:{el:".input-wrap",msg:"内容不能为空"},owner_address:{el:".input-wrap",msg:"内容不能为空"},carnumber:{el:".input-wrap",msg:"内容不能为空"},name:{el:".input-wrap",msg:"内容不能为空"},customer_number:{el:".input-wrap",msg:"内容不能为空"},job_number:{el:".input-wrap",msg:"内容不能为空"},recorder:{el:"",msg:"请授权微信名"},tel:{el:"",msg:"请授权手机号"},address:{el:"",msg:"请获取地理位置"},radio:{el:".radio-wrap label",msg:"必须选择一项"},sex:{el:".radio-wrap label",msg:"必须选择一项"},checkbox:{el:".checkbox-wrap label",msg:"必须选择一项"},checklist:{el:".right",msg:"请完成所有条目"},image:{el:".add",msg:"请添加图片"},audio:{el:".add",msg:"请点击录音"},video:{el:".add",msg:"请添加视频"},matrix:{el:".table",msg:"内容不能为空"},chained_selects:{el:".chained-selects-wrap",msg:"内容不能为空"},ocr_identity:{el:".input-wrap",msg:"内容不能为空"}},tt="填写内容不能和已提交的数据重复，请修改内容",et={text:{el:".input-wrap",msg:tt},number:{el:".number-wrap",msg:tt},identity:{el:".input-wrap",msg:tt},carnumber:{el:".input-wrap",msg:tt},name:{el:".input-wrap",msg:tt},customer_number:{el:".input-wrap",msg:tt},job_number:{el:".input-wrap",msg:tt},recorder:{el:"",msg:tt},tel:{el:"",msg:tt}},ot={alpha:"字母",number:"数字",alphaNum:"字母数字组合"},rt=/(^-?[0-9]+\.?[0-9]+$)|(^-?[0-9]+$)/,nt=/(^[0-9]+\.?[0-9]+$)|(^[0-9]+$)/,it=/(^-[0-9]+\.?[0-9]+$)|(^-[0-9]+$)/,ct=/(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]/,at={alpha:t=>/^[a-z|A-Z]*$/.test(t),number:t=>/^[0-9]*$/.test(t),alphaNum:t=>/^[a-z|A-Z|0-9]*$/.test(t),alphaNumNew:t=>ct.test(t)&&/^[a-z|A-Z|0-9]*$/.test(t)},st={identity:{el:".input-wrap",msg:"输入错误"},number:{el:".number-wrap",msg:"输入错误"},carnumber:{el:".input-wrap",msg:"输入错误"},job_number:{el:".input-wrap",msg:"输入错误"},checkbox:{el:".checkbox-wrap label",msg:"选项错误"}};function lt(t,e=""){const o=Object(s["a"])(t,"num_rang.0.value",""),r=it.test(e),[n,i]=Object(C["a"])(o)?Object(S["a"])(o.split("_"),t=>Number(t)):[],c=r?e.length-1:e.length;return n&&i&&(c<n||c>i)?{isPassed:!1,msg:`限制输入${n}到${i}位`}:n&&c<n?{isPassed:!1,msg:`至少输入${n}位`}:i&&c>i?{isPassed:!1,msg:`最多输入${i}位`}:{isPassed:!0,msg:""}}function dt(t,e=""){const o=Object(s["a"])(t,"num_negative.0.value","");if(e||"0"===String(e)){if(1===+o){if(!rt.test(e))return{isPassed:!1,msg:"请输入正确格式的数字"}}else if(!nt.test(e))return{isPassed:!1,msg:"请输入正确格式的数字"};return lt(t,e)}return{isPassed:!0,msg:""}}function ut(t,e){const o={};return Object(n["a"])(t,(t,r)=>{const n=Object(s["a"])(t,"components",[]),i=Object(Y["a"])(n,(t,n)=>{const i=Number(Object(s["a"])(t,"id"))===Number(e);return i&&(o.index=r,o.compIndex=n),i});if(i)return o.comp=i,!1}),o}const pt=["text","number","name","tel","recorder","identity","job_number","carnumber","customer_number"];function ht({recordDescGroups:t,formData:e}){const o=Object(i["a"])(e),r=[];return Object(n["a"])(o,(e,o)=>{const{comp:n,index:c,compIndex:a}=ut(t||[],o),l=Object(s["a"])(n,"tpl_component"),u=Object(s["a"])(n,"options",{}),p=Object(s["a"])(u,"is_unique.0.value","0");if(Object(d["a"])(pt,l)&&"1"===p){const t={fieldItem:n,id:n.id,cid:`__comp-${c}-${a}`,errorTips:Object(i["a"])(et[l])};r.push(t)}}),r}function ft(t){return/^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[DF])|([DABCEFGHJK]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/.test(t)}function mt({recordDescGroups:t,formData:e,options:o,errData:r}={}){let c=!1,l=!1,u="",p="",h="";const f={};let m=[],b=[],_=!1,O=!1,v=!1,j=!1;const C=Object(s["a"])(o,"serverTime",0),w=Object(s["a"])(o,"cb.findExpiredImgCB"),E=Object(s["a"])(o,"cb.findExpiredFilesCB"),x=Object(s["a"])(o,"cb.findExpiredSignCB"),T=Object(s["a"])(o,"cb.findExpiredAudioCB"),A=Object(s["a"])(o,"cb.findExpiredVideoCB"),R=Object(s["a"])(o,"toBeMember",!1),I=Object(s["a"])(o,"cb.requiredToBeMemberComp",({required:t}={type:"",required:"0"})=>t),D=Object(s["a"])(o,"cb.formatOrLengthLimitErrorCB"),$=Object(s["a"])(o,"cb.lengthLimitErrorCB"),L=Object(s["a"])(o,"cb.formatErrorCB"),M=Object(s["a"])(o,"constants.EMPTY_INFO",Z),H=Object(s["a"])(o,"constants.TEXT_TYPE",ot),k=Object(s["a"])(o,"constants.ERROR_INFO",st);let B="";const q=Object(i["a"])(e);return Object(n["a"])(q,(e,o)=>{const{comp:n,index:q,compIndex:N}=ut(t||[],o),P=Object(s["a"])(n,"tpl_component"),U=Object(s["a"])(n,"options",{}),W=Object(s["a"])(U,"require.0.value"),F=R?I({type:""+P,required:W}):W,Y=F||W,Z=Number(Object(s["a"])(U,"floor_num.0.value","0")),tt=Number(Object(s["a"])(U,"ceiling_num.0.value","0")),et=parseInt(Object(s["a"])(U,"length_limit.0.value","0"),10),ot=Object(s["a"])(U,"format_limit.0.value","");if("ocr_identity"===P&&!n.hasAllMsg&&1===Number(Y))return c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]));if(Object(d["a"])(["date","time","text","textarea","number","recorder","tel","identity","name","customer_number","job_number","chained_selects"],P)){if(!Object(s["a"])(e,"data")&&1===Number(Y))return c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]));if("job_number"===P&&Object(s["a"])(e,"data")&&!at.alphaNum(Object(s["a"])(e,"data",""))){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(M[P]);return t.msg="请输入字母或数字组合",void(f[`__comp-${q}-${N}`]=t)}if("number"===P){const{isPassed:t,msg:o}=dt(U,Object(s["a"])(e,"data",""));if(!t){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(k[P]);return t.msg=o,void(f[`__comp-${q}-${N}`]=t)}}let t=at[ot];const o=H[ot];if("customer_number"===P&&ot&&"alphaNum"===ot&&(t=at.alphaNumNew),Object(s["a"])(e,"data")&&t&&et>0&&(Object(s["a"])(e,"data.length")!==et||!t(Object(s["a"])(e,"data")))){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(M[P]);return t.msg=`请输入${et}位数的${o}`,f[`__comp-${q}-${N}`]=t,void(y(D)&&D())}if(Object(s["a"])(e,"data")&&et>0&&Object(s["a"])(e,"data.length")!==et){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(M[P]);return t.msg=`限制输入${et}位`,f[`__comp-${q}-${N}`]=t,void(y($)&&$())}if(Object(s["a"])(e,"data")&&t&&!t(Object(s["a"])(e,"data"))){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(M[P]);return t.msg="请输入"+o,f[`__comp-${q}-${N}`]=t,void(y(L)&&L())}if("identity"===P&&("1"===Y||"1"!==Y&&Object(s["a"])(e,"data"))){const t=!G(Object(s["a"])(e,"data"));if(t){l=!0,p||u||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(k[P]);return t.msg=Object(s["a"])(n,"title","")+t.msg,void(f[`__comp-${q}-${N}`]=t)}}}else{if("owner_address"===P){let t=Object(s["a"])(e,"data");return t&&(t=JSON.parse(t)),t&&t.sheng&&t.shi&&t.qv&&t.detail||1!==Number(Y)?void 0:(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P])))}if("carnumber"!==P){if("address"===P)return Object(s["a"])(e,"data.address")&&Object(s["a"])(e,"data.lat")&&Object(s["a"])(e,"data.log")||1!==Number(Y)?void 0:(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P])));if("radio"===P||"sex"===P)return Object(s["a"])(e,"data")||1!==Number(Y)?void 0:(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P])));if("checkbox"===P){if(Object(g["a"])(Object(s["a"])(e,"data"))){let t=!1;const o=Object(s["a"])(e,"data.length",0);if(Z&&tt&&Z!==tt?(B=`请选择${Z}-${tt}项`,(o<Z||o>tt)&&(t=!0)):Z&&!tt?(B=`至少选择${Z}项`,o<Z&&(t=!0)):Z&&Z===tt?tt&&tt!==o&&(B=`请选择${tt}项`,t=!0):!Z&&tt?(B=`最多选择${tt}项`,o>tt&&(t=!0)):(t=!1,B=""),t){l=!0,u||p||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(k[P]);return t.msg=B,void(f[`__comp-${q}-${N}`]=t)}}return Object(g["a"])(Object(s["a"])(e,"data"))&&!Object(s["a"])(e,"data.length",0)&&1===Number(Y)?(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]))):void 0}if("checklist"===P){const t=Object(a["a"])(Object(s["a"])(e,"data"),t=>!!Number(t)),o=Object(s["a"])(t,"length",0);return o<Object(s["a"])(n,"options.checklist.length",0)&&1===Number(Y)?(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]))):void 0}if("file"===P){let t;const{field_id:o,effective_duration:a}=null!==r&&void 0!==r?r:{};if(t=o&&a&&o===(null===n||void 0===n?void 0:n.id)?a:z,Array.isArray(Object(s["a"])(e,"data"))&&Object(s["a"])(e,"data.length")){const o=[],r=[];Object(s["a"])(e,"data",[]).forEach(e=>{const n=Number(Object(s["a"])(e,"uploadTime")||Object(s["a"])(e,"upload_time")),i=Object(s["a"])(e,"url",""),c=i.indexOf("/free/")>-1;c&&C-n>=t?o.push(e):r.push(e)}),e.data=Object(S["a"])(r,t=>{if(t){const e={...t},{uploadTime:o}=e;return o&&(e.upload_time=o,delete e.uploadTime),e}return t}),y(E)&&E({comp:n,finalFiles:r}),o.length&&(b=b.concat(o))}return Object(s["a"])(e,"data")&&Object(s["a"])(e,"data.length")||1!==Number(Y)?void(e.data=Object(g["a"])(Object(s["a"])(e,"data"))?Object(s["a"])(e,"data"):[]):(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P])))}if("image"===P){let t;j="2"===Object(s["a"])(n,"options.upload.0.value");const{field_id:o,effective_duration:a}=null!==r&&void 0!==r?r:{};if(t=o&&a&&o===(null===n||void 0===n?void 0:n.id)?a:"2"===Object(s["a"])(n,"options.upload.0.value")?J:K,Array.isArray(Object(s["a"])(e,"data"))&&Object(s["a"])(e,"data.length")){const o=[],r=[];Object(s["a"])(e,"data",[]).forEach(e=>{const n=Number(Object(s["a"])(e,"uploadTime")||Object(s["a"])(e,"upload_time")),i=Object(s["a"])(e,"url",""),c=i.indexOf("/free/")>-1;c&&C-n>=t?o.push(e):r.push(e)}),e.data=Object(S["a"])(r,t=>{if(t){const{uploadTime:e,...o}=t;return e?{...o,upload_time:e}:t}return t}),y(w)&&w({comp:n,finalImages:r}),o.length&&(m=m.concat(o))}return Object(s["a"])(e,"data")||1!==Number(Y)?Array.isArray(Object(s["a"])(e,"data"))&&!Object(s["a"])(e,"data.length")&&1===Number(Y)?(c=!0,p||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]))):void(e.data=Object(g["a"])(Object(s["a"])(e,"data"))?Object(s["a"])(e,"data"):[]):(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]),void(e.data=[]))}if("signature"!==P){if(Object(d["a"])(["audio","video"],P)){if((!Object(s["a"])(e,"data")||Array.isArray(Object(s["a"])(e,"data"))&&!Object(s["a"])(e,"data.length"))&&1===Number(Y))return c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]));const t=Number(Object(s["a"])(e,"data.0.uploadTime")||Object(s["a"])(e,"data.0.upload_time"));if(Array.isArray(Object(s["a"])(e,"data"))&&Object(s["a"])(e,"data.length")&&t){let o;const{field_id:i,effective_duration:c}=null!==r&&void 0!==r?r:{};if(i&&c&&i===(null===n||void 0===n?void 0:n.id))o=c;else if("audio"===P)o=V;else{if("video"!==P)throw new Error("type is unknown");o=X}const a=Object(s["a"])(e,"data.0.url",""),l=a.indexOf("/free/")>-1;if(l&&C-t>o){if("audio"===P)O=!0;else{if("video"!==P)throw new Error("type is unknown");v=!0}if(e.data=[],"audio"===P)y(T)&&T({comp:n});else{if("video"!==P)throw new Error("type is unknown");y(A)&&A({comp:n})}}Object(s["a"])(e,"data.0.uploadTime")&&(e.data[0].upload_time=e.data[0].uploadTime,delete e.data[0].uploadTime)}}else if("matrix"===P){const t=Object(a["a"])(Object(s["a"])(e,"data"),t=>!!t);Object(s["a"])(t,"length")||1!==Number(Y)||(c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]))}}else{if((!Object(s["a"])(e,"data")||0===Object(s["a"])(e,"data.length"))&&1===Number(Y))return c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]));const t=Number(Object(s["a"])(e,"data.0.uploadTime")||Object(s["a"])(e,"data.0.upload_time"));if(Array.isArray(Object(s["a"])(e,"data"))&&Object(s["a"])(e,"data.length")&&t){let o;const{field_id:i,effective_duration:c}=null!==r&&void 0!==r?r:{};o=i&&c&&i===(null===n||void 0===n?void 0:n.id)?c:Q;const a=Object(s["a"])(e,"data.0.url",""),l=a.indexOf("/free/")>-1;Object(d["a"])(Object(s["a"])(e,"data.0.url",""),"http://oss-cn-hangzhou.aliyuncs.com")?(_=!0,e.data=[],y(x)&&x({comp:n,expirationType:"aliyun"})):l&&C-t>o&&(_=!0,e.data=[],y(x)&&x({comp:n,expirationType:"serverTime"})),Object(s["a"])(e,"data.0.uploadTime")&&(e.data[0].upload_time=e.data[0].uploadTime,delete e.data[0].uploadTime)}}}else{const t=Object(s["a"])(e,"data");if(!t&&1===Number(Y))return c=!0,p||u||(p=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`),void(f[`__comp-${q}-${N}`]=Object(i["a"])(M[P]));if(("1"===Y||"1"!==Y&&t)&&!ft(t)){l=!0,u||p||(u=Object(s["a"])(n,"title",""),h=`__comp-${q}-${N}`);const t=Object(i["a"])(k[P]);return t.msg=Object(s["a"])(n,"title","")+t.msg,void(f[`__comp-${q}-${N}`]=t)}}}}),{newFormData:q,haveEmpty:c,haveError:l,ErrorName:u,emptyName:p,emptyId:h,emptyTips:f,hasExpiredImages:m,hasExpiredFiles:b,hasExpiredSign:_,hasExpiredAudio:O,hasExpiredVideo:v,isOnlyCameralUploadExpired:j,checkRangeTips:B}}mt.numberCheck=dt,mt.getNeedAsyncValidateFormData=ht,mt.SHOULD_ASYNC_VALIDATE_COM_TYPE=pt,mt.TEXT_TYPE_REG=at,mt.TEXT_TYPE_DEFAULT=ot,mt.isLicenseNo=ft;const gt=25e6;var bt=t=>Object(l["a"])(t,t=>{const{component_code:e}=t,o=Object(s["a"])(t,"attribute_list",[]);return"image"===e?Object(l["a"])(o,t=>{const e=Object(s["a"])(t,"image_width.value",""),o=Object(s["a"])(t,"image_height.value","");let r=parseInt(e,10),n=parseInt(o,10);return Object(j["a"])(r)&&(r=0),Object(j["a"])(n)&&(n=0),r*n>gt}):"batchImage"===e&&Object(l["a"])(o,t=>{const e=Object(s["a"])(t,"image_url.value",[]);return Object(l["a"])(e,t=>{const e=Object(s["a"])(t,"value",{}),o=Object(s["a"])(e,"width",""),r=Object(s["a"])(e,"height","");let n=parseInt(o,10),i=parseInt(r,10);return Object(j["a"])(n)&&(n=0),Object(j["a"])(i)&&(i=0),n*i>gt})})});function _t(t){if(Object(s["a"])(t,"length")){const e=+Object(s["a"])(t,"1.display_style.value","0");if(1!==e&&2!==e)return t;t.forEach(t=>{const o=+Object(s["a"])(t,"pic_type.value","0");2===o&&Object(s["a"])(t,"pic_size.value")&&Object(q["a"])(t.pic_size.value)>2097152&&Object(s["a"])(t,"pic_value.value")&&-1===Object(s["a"])(t,"pic_value.value","").indexOf("?x-oss-process=")&&(1===e?t.pic_value.value=t.pic_value.value+"?x-oss-process=image/resize,w_460/quality,Q_100/interlace,1/auto-orient,1":2===e&&(t.pic_value.value=t.pic_value.value+"?x-oss-process=image/resize,w_750/format,gif/sharpen,100/quality,Q_80/interlace,1/auto-orient,1"))})}return t}var Ot=_t;const yt=(t,e)=>{if(e.indexOf("?")>-1){const o=e.slice(e.indexOf("?")),r=o.split("&");let n="";if(r)for(let e=r.length-1;e>=0;e--)if(r[e].indexOf(t+"=")>-1){n=r[e];break}return n?n.slice(n.indexOf("=")+1):""}return""},vt=t=>{let e=[];if(t.indexOf("?")>-1){const o=t.slice(t.indexOf("?")+1),r=o.split("&");e=r}return e},jt=(t,e)=>{const o=Object(i["a"])(t);while(--e>=0)o.pop();return o},Ct=(t,e)=>{const o=new RegExp(`(^|\\?|&)${t}=([^&]*)(&|$)`),r=e.match(o);return null!=r?unescape(r[2]):""};o("13d5");o("0c6d"),o("8262"),o("e548"),o("6260");var wt=t=>{if(!Number(t))return{};const e=(new Date).getTime(),o=1e3*Number(t)-e,r=o/1e3/60/60/24,n=r>1?Math.floor(r):Math.ceil(r);return{hasExpired:o<0,restExpiredDay:n}},Et=o("d197"),xt=()=>new RegExp([`(<span class="${Et["j"]}.*?".*?>`,`<span class="${Et["k"]} cliIcon anticon anticon-.*?">`,'<span class="x-placeholder">[</span>',"</span>",`<span class="${Et["l"]}">.*?</span>`,'<span class="x-placeholder">]</span>','(?:<span class="x-tooltip-buttons x-placeholder-buttons".*?>','<span class="x-tooltip-button x-placeholder-setting">.*?</span>','<span class="x-tooltip-button x-placeholder-remove">.*?</span>',"</span>)?",'</span>|<a .*?class="placeholder-edit-nav".*?>.*?</a>|<a .*?class="placeholder-no-edit-nav".*?>.*?</a>|<a .*?class="placeholder-edit-nav placeholder-title-edit-nav".*?>.*?</a>)'].join("").replace(/\[/g,"\\["),"i");function Tt(t,e){const o=[];if(!t||!e)return o;const r=[];Object(n["a"])(t,(t,n)=>{e(t,n)&&(o.push(t),r.push(n))});for(let n=r.length-1;n>=0;n--){const e=r[n];t.splice(e,1)}return o}var At=Tt;const St=function(){let t=[],e=[],o=0,r=!1;const i=()=>{r=!1,clearInterval(o),o=0},c=t=>{e.push(t),t.onStop&&t.onStop.apply(t.scope||t)},a=()=>{const o=(new Date).getTime();!e.length||(Object(n["a"])(e,e=>{At(t,t=>t===e)}),e=[],t.length)?Object(n["a"])(t,t=>{const e=o-t.taskRunTime;if(t.interval<=e){const e=t.run.apply(t.scope||t,t.args||[++t.taskRunCount]);if(t.taskRunTime=o,!1===e||t.taskRunCount===t.repeat)return void c(t)}t.duration&&t.duration<=o-t.taskStartTime&&c(t)}):i()},s=t=>{r||(r=!0,o=setInterval(a,t))};this.start=e=>(t.push(e),e.taskStartTime=(new Date).getTime(),e.taskRunTime=0,e.taskRunCount=0,s(e.interval),e.stop=()=>{this.stop(e)},e),this.stop=t=>(c(t),t),this.stopAll=()=>{i();for(let e=0,o=t.length;e<o;e++)t[e].onStop&&t[e].onStop();t=[],e=[]}};new St;var Rt=o("f1d0"),It=o("6b40");function Dt(t,e="/",o){const{isShowSameYear:r=!0,isShowSecond:n=!1}=o||{};let i="",c="",a="";Object(g["a"])(e)?(i=e[0],c=e[1],a=e[2]):(i=e,c=e);const s=new Date(t);let l=String(s.getMinutes());Number(l)<10&&(l="0"+s.getMinutes());let d=String(s.getSeconds());Number(d)<10&&(d="0"+s.getSeconds());const u=(new Date).getFullYear()===s.getFullYear(),p=!r&&u?"":`${s.getFullYear()}${i}`,h=`${p}${s.getMonth()+1}${c}${s.getDate()}${a} ${s.getHours()}:${l}${n?":"+d:""}`;return h}const $t=(t,e)=>{let o;try{o=JSON.parse(t),o.from_state_text!==o.state_text&&(o.is_change_state=1,o.from_state_text||(o.is_change_state=2)),o.formatUpdateTime=Dt(1e3*e,["年","月","日"],{isShowSameYear:!1})}catch(r){console.error(r)}return o},Lt=t=>{const e=Object(s["a"])(t,"tpl_type",0),o=Object(s["a"])(t,"tpl_groups");let i;const c={};let a={};return 7===e&&Object(s["a"])(o,"length")&&Object(n["a"])(o,e=>{Object(n["a"])(e.fields,e=>{"textarea"===Object(s["a"])(e,"type")?Object(s["a"])(e,"options.append_data",0)>0?c.textarea=e.value||"":Object(s["a"])(e,"options.append_data")||(i=$t(Object(s["a"])(e,"value"),t.add_time_timestamp)):"image"===Object(s["a"])(e,"type")&&Object(s["a"])(e,"options.append_data",0)>0?c.imgs=e.value||[]:"address"===Object(s["a"])(e,"type")&&(a=e.raw_value)})}),i&&Object(r["a"])(i,{remark:c,addressData:a}),i},Mt=t=>{const e=Dt(1e3*t,["年","月","日"],{isShowSameYear:!1}),o=e.split(" "),r=(new Date).toLocaleDateString(),n=Date.parse(r)/1e3,i=Math.floor(parseInt(String(n-t),10)/60/60/24);return-1===i?o[0]="今天":0===i&&(o[0]="昨天"),e.indexOf("年")>-1&&(o[1]=""),o},Ht=({recordData:t})=>{var e,o,r;if((null===t||void 0===t?void 0:t.tpl_type)!==Rt["g"].APPLY)return;const n=null===t||void 0===t||null===(e=t.tpl_groups)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.fields,i=null===(r=Object(a["a"])(n,t=>"text"===t.type))||void 0===r?void 0:r[0];try{const e=JSON.parse((null===i||void 0===i?void 0:i.value)||"{}"),{apply_value:o}=e;It["b"][o]&&(t.name=It["b"][o])}catch(c){console.error(c)}},kt={TPL_DESC:"tpl_desc",RECORD:"record"},Bt={[kt.RECORD]:{tpl_type:"tpl_type",tpl_groups:"tpl_groups",fields:"fields"},[kt.TPL_DESC]:{tpl_type:"type",tpl_groups:"groups",fields:"components"}},qt=({recordData:t,from:e=kt.RECORD})=>{const{tpl_type:o,tpl_groups:r,fields:n}=Bt[e];if((null===t||void 0===t?void 0:t[o])===Rt["g"].APPLY){var i,c,s;const e=null===t||void 0===t||null===(i=t[r])||void 0===i||null===(c=i[0])||void 0===c?void 0:c[n],o=null===(s=Object(a["a"])(e,t=>"text"===t.type))||void 0===s?void 0:s[0];null!==o&&void 0!==o&&o.value&&!Object(C["a"])(null===o||void 0===o?void 0:o.value)&&Object(l["a"])(e,t=>{const e="text"===t.type;return e&&(t.value=JSON.stringify(o.value)),e})}},Nt=t=>{var e,o,n;const i=null===t||void 0===t||null===(e=t.tpl_groups)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.fields,c=null===(n=Object(a["a"])(i,t=>"text"===t.type))||void 0===n?void 0:n[0];let s;try{var l;s=JSON.parse(String(null===c||void 0===c?void 0:c.value)||"{}"),Object(r["a"])(s,{apply_text:It["a"][null===(l=s)||void 0===l?void 0:l.apply_value]})}catch(d){console.error(d)}return s};var Pt={handleRecordTime:Mt,trans2Type7State:$t,getTplType7State:Lt,resetRecordTplName:Ht,prepareRecordData:qt,getApplyData:Nt},Ut=(t,e)=>{const{r:o,g:r,b:n}=x.a.fromHex(t).toRgbObject();return`rgba(${o}, ${r}, ${n}, ${e})`},Wt=t=>{var e;return"textarea"===t.type&&!(null!==(e=t.options)&&void 0!==e&&e.append_data)};const Ft={image:"图片",file:"文件",audio:"音频",video:"视频"};var Gt=({data:t,collapse:e})=>{const o=null===t||void 0===t?void 0:t.tpl_type,r=null===t||void 0===t?void 0:t.sub_target_type;if(13===o||2===r){var c;let r;var a,s,l,u,p,h,f,m,g;if(13===o)r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.textAreaValue)&&void 0!==s?s:null===t||void 0===t||null===(l=t.tpl_groups)||void 0===l||null===(u=l[0])||void 0===u||null===(p=u.fields)||void 0===p||null===(h=p[0])||void 0===h?void 0:h.value)&&void 0!==a?a:"";else r=null!==(f=null===t||void 0===t||null===(m=t.extra_msg)||void 0===m||null===(g=m.log_msg)||void 0===g?void 0:g.operate_msg)&&void 0!==f?f:{};let b;b=Object(C["a"])(r)?_(r,{}):r;let O="修改了内容",y=0;const{show_multimedia_data:v,from_operation_id:j}=b,w=Object(i["a"])(b.operate_attributes);Object(n["a"])(w,t=>{var e;const{tpl_field_name:o,new_value:r,tpl_field_id:n}=t,i=Object(d["a"])(["image","file","audio","video"],o);t.isMultimedia=i,t.multimediaName=null!==(e=Ft[o])&&void 0!==e?e:"",i&&(t.newValue={id:n,value:_(r,[])})});const E=null!==(c=null===w||void 0===w?void 0:w.length)&&void 0!==c?c:0;if(1===E){const t=w[0],e=null===t||void 0===t?void 0:t.operate_type,o=null===t||void 0===t?void 0:t.isMultimedia,r=null===t||void 0===t?void 0:t.multimediaName;y=e;const n=o?r:"内容";1===e?O="添加了"+n:2===e?O="修改了"+n:3===e?O="删除了"+n:4===e&&(O="操作了"+n)}return{operates:e&&E>2?w.slice(0,1):w,operateSize:E,operateType:y,operateTypeDesc:O,stateOperateType:0,showMultimediaData:v,fromOperationId:j}}if(7===o){var b,O;const e=null===t||void 0===t||null===(b=t.tpl_groups)||void 0===b||null===(O=b[0])||void 0===O?void 0:O.fields;let o;Object(n["a"])(e,t=>{if(Wt(t))return o=t.value,!1});const{operate_type:r}=_(o,{});return{operates:[],operateSize:0,operateType:0,operateTypeDesc:"",stateOperateType:r,showMultimediaData:0}}return{operates:[],operateSize:0,operateType:0,operateTypeDesc:"",stateOperateType:0,showMultimediaData:0}},Yt=t=>Object(S["a"])(t,t=>(Object(r["a"])(t,Gt({data:t})),t)),zt=t=>{var e,o;const r={},i=null===t||void 0===t||null===(e=t.tpl_groups)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.fields;return Object(n["a"])(i,t=>{var e,o,n;const{id:i,title:c,desc:a,options:s,value:l}=t,d=null!==(e=null===s||void 0===s||null===(o=s.mobile_edit_mode)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.value)&&void 0!==e?e:"2",u=Object(g["a"])(l),p=u&&!l.length||!u&&!l,h="2"===d||"1"===d&&p;r[i]={id:i,title:c,desc:a,canEdit:h}}),r},Qt=o("8e05"),Jt=t=>{t||console.warn("dataSource is expected in getDynamicShowPos(), dataSource: ",t);const e=+Object(s["a"])(t,"recordview_position",Qt["c"].TimeLine),o=e===Qt["c"].Hide;if(o)return Qt["c"].Hide;const r=Object(s["a"])(t,"recordview_extend.ext_info");return+Object(s["a"])(r,"content_position",Et["d"].Head)},Kt=t=>{t||console.warn("dataSource is expected in getDynamicShowPos(), dataSource: ",t);const e=Object(s["a"])(t,"expand_log",Qt["b"].BlockList);if(e===Qt["b"].Hide)return Qt["b"].Hide;const o=Object(s["a"])(t,"recordview_extend.operation_ext_info");return+Object(s["a"])(o,"content_position",Et["i"].Head)}},1894:function(t,e,o){"use strict";e["a"]=()=>{const{userAgent:t}=navigator,e=t.toLocaleLowerCase();return/(ipad|iphone os|midp|rv:1\.2\.3\.4|ucweb|android|windows ce|windows mobile)/.test(e)}},1949:function(t,e,o){"use strict";var r=o("131c");o.d(e,"a",(function(){return r["l"]}))},"1ddc":function(t,e,o){"use strict";var r=o("a607");function n(t,e){const o=[];return t&&e?(Object(r["a"])(t,(t,r)=>{e(t,r)&&o.push(t)}),o):o}e["a"]=n},2173:function(t,e,o){"use strict";o.d(e,"a",(function(){return f})),o.d(e,"c",(function(){return m})),o.d(e,"d",(function(){return g})),o.d(e,"b",(function(){return b}));var r=o("3c61"),n=o("4a75"),i=o("d871"),c=o.n(i),a=o("131c"),s=o("c760");const{COMPILER_ENV:l}=s["a"];const d=["/qrcoderoute/qrcodeRoute","/record/getRecordTpl","/record/getDesc","/record/addRecord","/record/getRecordsForApp","/record/getRecordsForAppSimplify","/log/collect","qrcoderoute/qrcodeRouteNew","qrcoderoute/qrcodeProperties"],u=t=>{let e=[];return Object(a["C"])(["exp","net"],l)&&(e=d),Object(a["U"])(e,e=>Object(a["C"])(t,e))};function p(t){return new Promise((e,o)=>{const i=Object(n["J"])(t.data),c="GET"===t.method.toLocaleUpperCase(),s=c?`${t.url}?${i}`:t.url,l={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};try{if(u(s)){const t=Object(a["e"])(Object(a["x"])(r["a"],"h5QueryString.url","")),e=t.split("/"),o=e.pop();let n=Object(a["x"])(r["a"],"codeData");if(n){const t=Object(a["x"])(n,"qrcode_record.coding","");t!==o&&(n=null)}const i=Object(a["x"])(n,"org_msg.id",""),c=e.pop(),s=Object(a["x"])(n,"org_msg.user_id",""),d=Object(a["x"])(n,"edition_msg.edition_id",""),u=Object(a["x"])(n,"edition_msg.from_edition_id",""),p={coding:o,org_id:i,org_coding:c,user_id:s,edition_id:d,from_edition_id:u};Object(a["a"])(l,{"Caoliao-Identity-Flag":Object(a["P"])(p)})}}catch(p){console.error(p)}const d={method:t.method,mode:"cors",credentials:"include",headers:l};c||(d.body=i),"/create-code.html"===window.location.pathname?window.$.ajax({type:t.method,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,url:s,data:i,success(t,o,r){console.log("------------------------------------------"),console.log("成功"),console.log(t,JSON.parse(JSON.stringify(r))),console.log(document.cookie),console.log("------------------------------------------"),e(t)},error(t){console.log("------------------------------------------"),console.log("失败"),console.log(t),console.log("------------------------------------------"),o(t)}}):fetch(s,d).then(t=>429===t.status?t.status:t.json()).then(t=>{e(t)}).catch(t=>{o(t)})})}function h(t){return new Promise(async(e,o)=>{try{const o=await p(t);e(o)}catch(r){o(r)}})}async function f(t,e={},o={}){return await h({url:t,data:e,header:o,method:"GET"})}async function m(t,e={},o={}){return o["Content-Type"]||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),await h({url:t,data:e,header:o,method:"POST"})}function g(t){const e="https://upload.api.cli.im/upload.php?kid=cliim",o=new FormData;return o.append("Filedata",t),new Promise((t,r)=>{const n={method:"POST",mode:"cors",credentials:"include",body:o};fetch(e,n).then(t=>t.json()).then(e=>{t(e)}).catch(t=>{r(t)})})}function b(t,e){if("h5"===r["a"].platform)return new Promise((o,r)=>{c()(`${t}?${Object(n["J"])(e)}`).then(t=>t.json()).then(t=>{o(t)}).catch(t=>{r(t)})})}},"28ec":function(t,e,o){"use strict";var r=o("0cbb");e["a"]=t=>{if(Object(r["a"])(t)){const e=parseFloat(t).toString().length;let o=Number(t.slice(0,e));const r=t.slice(e);switch(r.toLocaleUpperCase().trim()){case"TB":case"T":o*=1099511627776;break;case"GB":case"G":o*=1073741824;break;case"MB":case"M":o*=1048576;break;case"KB":case"K":o*=1024;break;case"B":break;default:o=0}return Number(o.toFixed(0))}return 0}},"300c":function(t,e,o){"use strict";o("d9e2");e["a"]=function(t,e){if(!t)return;const o=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");const r=arguments[1];let n=0;while(n<o){const o=t[n];if(e.call(r,o,n,t))return o;n++}}},"3c61":function(t,e,o){"use strict";var r=o("9ab4"),n=o("6fc5"),i=o("2b0e"),c=o("2f62");i["default"].use(c["a"]);var a=new c["a"].Store({}),s=o("46c6");let l=class extends n["d"]{constructor(){super(...arguments),this.domain=Object(s["a"])(),this.platform="h5",this.env={},this.codeInfo={},this.codeData={},this.headerHeight=0,this.isIphoneX=!1,this.h5QueryString={},this.workWxConfigData={},this.hasValidPage=!1,this.position={},this.hostEnv="development",this.oid="",this.i18n={},this.recordPageCompProp={},this.noAppBottomEmpty=!1,this.isTopMode=!1,this.isCollect=!1,this.xcxOriginalId="",this.wxConfigReady=!1,this.codeStatus=[],this.onlycheckedRet=!1,this.getQrcodePropertiesLimit=!1}async setDomain(t){return t}async setEnv(t){return t}async setKey(t){return JSON.parse(JSON.stringify(t))}async setI18n(t){return t}SET_I18N(t){this.i18n=t}SET_DOMAIN(t){this.domain=t}SET_ENV(t){this.env=t}SET_KEY({key:t,value:e}){this[t]=e}};Object(r["a"])([Object(n["a"])({commit:"SET_DOMAIN"})],l.prototype,"setDomain",null),Object(r["a"])([Object(n["a"])({commit:"SET_ENV"})],l.prototype,"setEnv",null),Object(r["a"])([Object(n["a"])({commit:"SET_KEY"})],l.prototype,"setKey",null),Object(r["a"])([Object(n["a"])({commit:"SET_I18N"})],l.prototype,"setI18n",null),Object(r["a"])([n["c"]],l.prototype,"SET_I18N",null),Object(r["a"])([n["c"]],l.prototype,"SET_DOMAIN",null),Object(r["a"])([n["c"]],l.prototype,"SET_ENV",null),Object(r["a"])([n["c"]],l.prototype,"SET_KEY",null),l=Object(r["a"])([Object(n["b"])({dynamic:!0,store:a,name:"app"})],l);e["a"]=Object(n["e"])(l)},"46c6":function(t,e,o){"use strict";var r=o("c760"),n={cliUrl:"https://exp.cliim.net",userUrl:"https://exp-user.cliim.net",userApiUrl:"https://exp-user-api.cliim.net",minaUrl:"https://exp-biz.cliim.net/api/idcode",decodeUrl:"https://exp-nc.cliim.net",webviewUrl:"https://exp-biz.cliim.net",ncUrl:"https://exp-nc.cliim.net",socketApiUrl:"wss://socket-api.cliim.net",recordApiUrl:"https://exp-record-api.cliim.net",analysisUrl:"//analysis-api.cliim.net",uploadUrl:"//upload-api.cliim.net",wxApiUrl:"//wechat.cli.im/wx-api-net",logApiUrl:"//log-api.cliim.net",weWorkApiUrl:"https://wework-api.cliim.net/v1"},i={cliUrl:"https://cliim.net",userUrl:"https://user.cliim.net",userApiUrl:"https://user-api.cliim.net",minaUrl:"https://biz.cliim.net/api/idcode",decodeUrl:"https://nc.cliim.net",webviewUrl:"https://biz.cliim.net",ncUrl:"https://nc.cliim.net",socketApiUrl:"wss://socket-api.cliim.net",recordApiUrl:"https://record-api.cliim.net",analysisUrl:"//analysis-api.cliim.net",uploadUrl:"//upload-api.cliim.net",wxApiUrl:"//wechat.cli.im/wx-api-net",logApiUrl:"//log-api.cliim.net",weWorkApiUrl:"https://wework-api.cliim.net/v1"},c={cliUrl:"https://cliim.com",userUrl:"https://user.cliim.com",userApiUrl:"https://user-api.cliim.com",minaUrl:"https://biz.cliim.com/api/idcode",decodeUrl:"https://nc.cliim.com",webviewUrl:"https://biz.cliim.com",ncUrl:"https://nc.cliim.com",socketApiUrl:"wss://socket-api.cliim.com",recordApiUrl:"https://record-api.cliim.com",analysisUrl:"//analysis-api.cliim.com",uploadUrl:"//upload-api.cliim.com",wxApiUrl:"//wechat.cli.im/wx-api-com",logApiUrl:"//log-api.cli.im",weWorkApiUrl:"https://wework-api.cliim.com/v1"},a={cliUrl:"https://cli.im",userUrl:"https://user.cli.im",userApiUrl:"https://user.api.cli.im",minaUrl:"https://biz.cli.im/api/idcode",decodeUrl:"https://nc.cli.im",webviewUrl:"https://biz.cli.im",ncUrl:"https://nc.cli.im",socketApiUrl:"wss://socket.api.cli.im",recordApiUrl:"https://record-api.cli.im",analysisUrl:"//analysis-api.cli.im",uploadUrl:"//upload-api.cli.im",wxApiUrl:"//wx.api.cli.im",logApiUrl:"//log-api.cli.im",weWorkApiUrl:"https://wework-api.cli.im/v1"};const{PROJECT_EVN:s,COMPILER_ENV:l}=r["a"];let d=s;"com"===l&&(d="com"),"online"===l&&(d="online"),"exp"===l&&(d="exp");e["a"]=()=>{let t=null;switch(d){case"exp":t=n;break;case"development":case"net":t=i;break;case"com":t=c;break;case"onlineTest":case"online":t=a;break;default:t=a;break}return t}},"4a75":function(t,e,o){"use strict";o.d(e,"r",(function(){return w})),o.d(e,"J",(function(){return E})),o.d(e,"P",(function(){return x})),o.d(e,"Z",(function(){return T})),o.d(e,"X",(function(){return A})),o.d(e,"D",(function(){return S})),o.d(e,"K",(function(){return R})),o.d(e,"N",(function(){return I})),o.d(e,"O",(function(){return D})),o.d(e,"i",(function(){return $})),o.d(e,"F",(function(){return L})),o.d(e,"Y",(function(){return M})),o.d(e,"W",(function(){return H})),o.d(e,"V",(function(){return B})),o.d(e,"U",(function(){return q})),o.d(e,"n",(function(){return N})),o.d(e,"k",(function(){return P})),o.d(e,"M",(function(){return U})),o.d(e,"T",(function(){return W})),o.d(e,"H",(function(){return F})),o.d(e,"b",(function(){return d})),o.d(e,"c",(function(){return i["d"]})),o.d(e,"g",(function(){return i["i"]})),o.d(e,"j",(function(){return u["a"]})),o.d(e,"m",(function(){return h})),o.d(e,"u",(function(){return i["z"]})),o.d(e,"v",(function(){return i["A"]})),o.d(e,"w",(function(){return i["B"]})),o.d(e,"x",(function(){return i["C"]})),o.d(e,"y",(function(){return f})),o.d(e,"z",(function(){return i["D"]})),o.d(e,"A",(function(){return i["E"]})),o.d(e,"E",(function(){return i["I"]})),o.d(e,"G",(function(){return i["K"]})),o.d(e,"I",(function(){return m["a"]})),o.d(e,"Q",(function(){return g["a"]})),o.d(e,"S",(function(){return i["W"]})),o.d(e,"R",(function(){return i["V"]})),o.d(e,"B",(function(){return i["F"]})),o.d(e,"L",(function(){return i["P"]})),o.d(e,"ab",(function(){return i["X"]})),o.d(e,"C",(function(){return b})),o.d(e,"s",(function(){return _})),o.d(e,"a",(function(){return O["a"]})),o.d(e,"o",(function(){return y})),o.d(e,"q",(function(){return i["v"]})),o.d(e,"f",(function(){return i["h"]})),o.d(e,"d",(function(){return v})),o.d(e,"e",(function(){return C})),o.d(e,"t",(function(){return i["y"]})),o.d(e,"p",(function(){return i["t"]})),o.d(e,"l",(function(){return i["p"]})),o.d(e,"h",(function(){return i["j"]}));var r=o("3c61"),n=o("005c"),i=o("131c"),c=o("c760"),a=o("8f21");const{COMPILER_ENV:s}=c["a"],{encodeURIComponent:l}=window;var d=()=>{const{$:t}=window,e=(e,o,r,n)=>{const{type:c}=e,d=w(o,"from",""),u=d?"_"+d:"",p=window.location.href,h=navigator.userAgent,f=(new a["a"]).id,m={openId:f,ua:h};let g=null;if("log"===c)g=w(o,"message","");else{const t=e.originalEvent||{},i=t.error||o||{};r=r||"common";const c=r+" error - ",a=""+(t.message||i.message||""),s=`${c}${a}`,l=t.filename||"",d=t.lineno||"",u=t.colno||"",p=i.sagaStack||i.stack||"";g={message:s,filename:l,lineno:d,colno:u,stack:p,errType:r,errData:n}}const b=["//log-api.cli.im/index/Browser/error",`?from=mpcli_${s}${u}`,"&page_url=",l(p),"&user_tag=",l(JSON.stringify(m)),"&error_msg=",l(Object(i["K"])(g)?g:JSON.stringify(g))].join("").substr(0,8e3);t("<img />").attr("src",b)};t(window).on("log",e).on("error",Object(i["W"])(e,2e3))},u=o("1949"),p=o("a7a1"),h=t=>{t=(t||"").toLocaleLowerCase();let e="";if(Object(i["C"])(["docx","doc",...p["g"]],t))e="doc";else if(Object(i["C"])(["ppt","pptx",...p["j"]],t))e="ppt";else if(Object(i["C"])(["pdf"],t))e="pdf";else if(Object(i["C"])(["xls","xlsx",...p["l"]],t))e="xls";else if(Object(i["C"])([...p["e"],...p["i"]],t))e="img";else if(Object(i["C"])(p["k"],t))e="psd";else if(Object(i["C"])(p["h"],t))e="dwg";else{if(Object(i["C"])(p["b"],t))return e="zip",`${p["m"]}/images/mina-cli/file_${e}.png?v=20190905`;e="txt"}return`${p["m"]}/images/mina-cli/file_${e}@2x.png?v=20190905`},f=()=>{const{userAgent:t}=navigator,e=t.toLocaleLowerCase();return/android/.test(e)},m=o("acb3"),g=o("de79"),b=()=>{const{width:t,height:e,availHeight:o}=window.screen;let r=!1;const n=e/t;let i=e===o?1.8:1.65;return n>i&&(r=!0),r},_=t=>{let e=t;if(e.indexOf("?")>-1){const t=e.split("?");if(".html"===t[0].substr(-5))return e;".htm"===t[0].substr(-4)?(t[0]=t[0].replace(".htm",".html"),e=t.join("?")):(t[0]=t[0]+".html",e=t.join("?"))}else if(-1===e.indexOf("?")){if(".html"===e.substr(-5))return e;".htm"===e.substr(-4)?e=e.replace(".htm",".html"):e+=".html"}return e},O=o("9f5d"),y=()=>Object(i["X"])(window.location.search),v=(t,e)=>{null==e&&(e=1e3);let o=0;return function(...r){const n=(new Date).getTime();(!o||n-o>e)&&t.apply(this,r),o=n}};const{COMPILER_ENV:j}=c["a"];var C=(...t)=>{j!==p["f"]&&console.log("debug:",...t)};function w(t,e,o){if(!e)return null==t?void 0==o?t:o:t;let r=w(t,null,{});const n=e.split("."),i=n.length;return n.forEach((t,e)=>{r=w(r[t],null,e!==i-1?{}:o)}),r}function E(t){const e=[];for(const[o,r]of Object(i["g"])(t))e.push(`${o}=${r}`);return e.join("&")}function x(t){return t.replace(/\s/g,"")}function T(t){return t.replace(/(^\s*)|(\s*$)/g,"")}function A(t){const e=[];for(const[r,n]of Object(i["g"])(t)){const t=[];for(let e of r)e>="A"&&e<="Z"&&(e=e.toLocaleLowerCase(),t.push("-")),t.push(e);t.push(":"),t.push(n),e.push(t.join(""))}const o=e.join(";");return`${o}${o.length?";":""}`}function S(){const t=r["a"].platform;if("h5"===t)return/iphone/gi.test(navigator.userAgent)&&812==screen.height&&375==screen.width;const e=wx.getSystemInfoSync();return-1!=e.model.indexOf("iPhone X")}function R(){const t=r["a"].platform;if("h5"===t)return/iphone/gi.test(navigator.userAgent)&&window.screen.height>750;const e=wx.getSystemInfoSync();return e.system.indexOf("iOS")>-1&&e.windowHeight>750}function I(t){let e=window.devicePixelRatio;e=Math.min(e,2),e<2&&(e=2),t=parseFloat(t)*e;const o=46.875;return t/o}function D(t){return 2*parseFloat(t)}function $(t){r["a"].platform;return I(t)+"rem"}const L=t=>{const e=!t.record_summary_status;return t.qrcode_record&&1===t.qrcode_record.log_status||e};function M(t){const e=t.split(":");let o=0;return e.forEach((t,e)=>{o+=0===e?60*parseInt(t,10):parseInt(t,10)}),o}function H(t){t=Math.round(t);const e=t=>t>=10?t.toString():"0"+t,o=Math.floor(t/3600),r=Math.floor((t-3600*o)/60),n=t-3600*o-60*r;let i=[];return i.push(e(o)),i.push(e(r)),i.push(e(n)),3===i.length&&"00"===i[0]&&(i=i.slice(1,i.length)),i.join(":")}const k=()=>navigator.userAgent.split(" ").join("");function B(t,e=""){const o=new Date,r=o.getTime(),n=(r-t)/1e3,i=(t,e,o="")=>t.length>=e?t:`${new Array(e-t.length+1).join(o)}${t}`;if(n<=60)return"刚刚";if(n<=3600)return parseInt(n/60)+"分钟前";if(n<=86400)return parseInt(n/60/60)+"小时前";if(n<=604800)return parseInt(n/60/60/24)+"天前";const c=new Date(t);return`${c.getFullYear()}${e||"年"}${i(String(c.getMonth()+1),2,"0")}${e||"月"}${i(String(c.getDate()),2,"0")}${e?"":"日"} ${i(String(c.getHours()),2,"0")}:${i(String(c.getMinutes()),2,"0")}`}function q(t,e="/",o=!0){if(!t)return"";let r="",n="",i="";Array.isArray(e)?[r,n,i]=e:(r=e,n=e);const c=new Date(1e3*t),a=c.getFullYear(),s=c.getMonth()+1,l=c.getDate(),d=a===(new Date).getFullYear();let u=c.getHours(),p=c.getMinutes();return u=u>9?u:"0"+u,p=p>9?p:"0"+p,`${d&&!o?"":`${a}${r}`}${s}${n}${l}${i} ${u}:${p}`}const N=(t,e,o,r="")=>{const i=e.attribute_list[0][o+"_url"],{org_msg:c,qrcode_record:a,edition_msg:s}=t,{org_id:l,play_token:d,id:u,is_private:p,tpl_component_id:h}=e,{coding:f,tpl_qrcode_coding:m}=t.qrcode_record,{is_paid_user:g}=c,{list_name:b}=a,{edition_id:_}=s;return{av_url:i.value,coding:1===p?f:m,component_id:1===p?u:h,org_id:l,play_token:d,ua:k(),openid:r||Object(n["j"])(),is_paid_user:g,edition_id:_,qrcode_name:b,...t.from_record?{from_record:1}:{}}},P=t=>t.replace(/\d/g,"").replace(/\./g,"").replace(/-/g,""),U=t=>(t=parseFloat(t),1.333333333*t),W=(t,e=15e3)=>{let o=!1;return new Promise(async(r,n)=>{try{const i=setTimeout(()=>{const t={timeout:!0,data:{}};n(t),o=!0},e),c=await t();clearTimeout(i),o||r(c)}catch(i){n({timeout:!1,data:i,oth:"object"===typeof i?i.toString():i}),o=!0}})},F=()=>{const t=navigator.userAgent;return t.match(/MicroMessenger\/[0-9]/i)}},6022:function(t,e,o){"use strict";o.d(e,"c",(function(){return W})),o.d(e,"e",(function(){return G})),o.d(e,"a",(function(){return V})),o.d(e,"f",(function(){return tt})),o.d(e,"b",(function(){return rt})),o.d(e,"d",(function(){return st}));var r=o("9ab4"),n=o("005c"),i=o("3c61"),c=o("2173"),a=o("131c");const s=(t,e={})=>{for(const[o,r]of Object(a["g"])(e))t=t.replace(":"+o,r);return t};function l(t){return e=>{e.prototype.domain=t}}const d=(t,e,o)=>{o=o.toLocaleLowerCase();let r=null;switch(o){case"get":r=c["a"];break;case"post":r=c["c"];break;case"jsonp":r=c["b"];break}return(o,n,i)=>{const c=o[n];i.value=async(...n)=>{let i={},a=await c(...n);a||(a={});let l={},d={},u=null;Array.isArray(a)?(l=a[0],u=a[1],d=a[2]):l=a,u&&(t=s(t,u));try{i=await r(`${e||o.domain}${t}`,l,d)}catch(p){return void(c.onError&&c.onError({e:p,data:l,header:d,path:t}))}return c.onSuccess?await c.onSuccess(i):i}}};function u(t,e=""){return d(t,e,"jsonp")}function p(t,e=""){return d(t,e,"get")}function h(t,e=""){return d(t,e,"post")}function f(t){return(e,o)=>{e[o].onSuccess=t}}var m=o("4a75"),g=o("d197"),b=(o("13d5"),o("8033")),_=o.n(b);const O=t=>(t=t.replace("#",""),t.length<6&&(t=""+t.split("").map(t=>`${t}${t}`).join("")),"#"+t),y=(t,e,o)=>{const r=_.a.fromHex(t);"number"===typeof e&&(o=e,e=[0,0,0]);const[n,i,c]=e,{h:a,s:s,v:l}=r.toHsvObject(),[d,u,p]=_.a.fromHsvArray([a+n,s+i,l+c]).toRgbArray();return`rgba(${d}, ${u}, ${p}, ${o})`};var v,j;(function(t){t[t["DARK"]=1]="DARK",t[t["LIGHT"]=2]="LIGHT",t[t["SPECIAL_RECORD"]=3]="SPECIAL_RECORD",t[t["DEFAULT"]=4]="DEFAULT"})(v||(v={})),function(t){t[t["ONLY_TITLE"]=1]="ONLY_TITLE",t[t["TITLE$RICH_TEXT"]=2]="TITLE$RICH_TEXT",t[t["HEAD_MODULE$NO_RECORD"]=3]="HEAD_MODULE$NO_RECORD",t[t["HAVE_RECORD"]=4]="HAVE_RECORD",t[t["WHITE"]=5]="WHITE"}(j||(j={}));const C=([t,e,o,r,n,i,c])=>({bg:t,headFilePreviewBtnBackground:e,recordButtonEntryBackground:o,addRecordButtonBackground:r,recordTitleColor:n,recordDividerColor:i,recordButtonEntryColor:c}),w={[j.ONLY_TITLE]:C([["#ffffff","#ffffff"],"#07C160",y("#07C160",[0,0,0],.9),"#07C160","#07C160","#07C160",""]),[j.TITLE$RICH_TEXT]:C([["#ffffff","#ffffff"],"#07C160",y("#07C160",[0,0,0],.9),"#07C160","#07C160","#07C160",""]),[j.HEAD_MODULE$NO_RECORD]:C([["#f4f4f4","#ffffff"],"#07C160",y("#07C160",[0,0,0],.9),"#07C160","#07C160","#07C160",""]),[j.HAVE_RECORD]:C([["#f4f4f4","#ffffff"],"#07C160",y("#07C160",[0,0,0],.9),"#07C160","#07C160","#07C160",""]),[j.WHITE]:C([["#ffffff","#ffffff"],"#07C160",y("#07C160",[0,0,0],.9),"#07C160","#333333","#333333",""])};class E{constructor(t,e){this.sourceColor={themeColor:"",foreColor:"",hThemeColor:"",hForeColor:""},this.topComponent={},this.record={},this.isCodeEmpty=!0,this.colorPoint=["0","100%"],this.emptyOffset="0",this.settedColor=!0,this.defaultConfig={},this.color={themeColor:"",foreColor:"",hThemeColor:"",hForeColor:""},this.isRecordCode=!1,this.deviceWidth=0,this.themeType="dark",this.lastModule="",this.lastHeadModuleType="",this.gradientCSS="",this.bottomExtendHeight=0,this.recordButtonEntryBackground="",this.recordButtonEntryColor="",this.addRecordButtonBackground="",this.headFileDownloadBtnBackground="",this.headFilePreviewBtnBackground="",this.headFilePreviewBtnColor="",this.headFileDownloadBtnColor="",this.recordDividerColor="",this.recordTitleColor="",this.to="",this.from="",this.ruleType=v.DARK,this.useDefaultColor=!1,this.isBrightMinus20=!1,this.prepare(t,e)}reset(t,e){return this.prepare(t,e),this}prepare(t,e){const{topComponent:o=this.topComponent,record:r=this.record,isCodeEmpty:n=this.isCodeEmpty,isRecordCode:i=this.isRecordCode,emptyOffset:c=this.emptyOffset,settedColor:a=this.settedColor,deviceWidth:s=this.deviceWidth}=e;this.sourceColor=t,this.topComponent=o,this.isCodeEmpty=n,this.record=r,this.isRecordCode=i,this.emptyOffset=c,this.settedColor=a,this.deviceWidth=s,this.defaultConfig=w,this.init(),this.checkOffset()}init(){return this.fmtColor(),this.settedColor?"#ffffff"===this.color.themeColor?(this.ruleType=this.isRecordCode?v.SPECIAL_RECORD:v.DEFAULT,this.setDefaultColor(j.WHITE),void(this.useDefaultColor=!0)):(this.isRecordCode&&1===this.record.expand_log?(this.ruleType=v.SPECIAL_RECORD,this.setRecordUnfoldColor()):this.isDark?(this.ruleType=v.DARK,this.setDarkColor()):(this.ruleType=v.LIGHT,this.setLightColor()),void this.calcOtherColor()):(this.ruleType=v.DEFAULT,this.calcDefaultColor(),void(this.useDefaultColor=!0))}calcDefaultColor(){const{topComponent:t=[]}=this;let e=0;const o=t.map(t=>t.component_code);1===o.length&&Object(a["C"])(o,"text")?e=j.ONLY_TITLE:o.length>1?e=j.HEAD_MODULE$NO_RECORD:"#ffffff"===this.color.themeColor&&(e=j.WHITE),this.setDefaultColor(e)}setDefaultColor(t){const e=this.defaultConfig[t];this.from=e.bg[0],this.to=e.bg[1],this.colorPoint=[this.emptyOffset,"100%"],this.gradientCSS=`linear-gradient(to bottom, ${this.from} ${this.colorPoint[0]}, ${this.to} ${this.colorPoint[1]})`,this.recordButtonEntryBackground=e.recordButtonEntryBackground,this.recordDividerColor=e.recordDividerColor,this.recordTitleColor=e.recordTitleColor,this.headFilePreviewBtnBackground=e.headFilePreviewBtnBackground,this.addRecordButtonBackground=e.addRecordButtonBackground,this.headFileDownloadBtnBackground=e.headFileDownloadBtnBackground,this.calcHeadFileDownloadBtnBackground(),this.calcHeadFileDownloadBtnColor()}setRecordUnfoldColor(){if(this.bottomExtendHeight=this.isCodeEmpty?0:56,this.from=this.color.themeColor,this.to=this.isCodeEmpty?this.calcTarget(this.color.themeColor):"#ffffff",this.colorPoint=["10%","100%"],this.getIsBrightMinus20(this.color.themeColor)&&this.isCodeEmpty){const t=this.to;this.to=this.from,this.from=t,this.isBrightMinus20=!0}"#ffdf22"===this.color.themeColor&&(this.to="#ffffff",this.from=this.color.themeColor),this.gradientCSS=`linear-gradient(to bottom, ${this.from} ${this.colorPoint[0]}, ${this.to} ${this.colorPoint[1]})`}setDarkColor(){const t=this.isRecordCode&&!this.isCodeEmpty&&!Object(a["C"])([2,3,"2","3"],this.record.expand_log);if(this.to=t?"#ffffff":this.color.themeColor,this.bottomExtendHeight=t?30:0,this.from=t?this.color.themeColor:this.calcTarget(this.color.themeColor),this.isLikeBlack(this.color.themeColor)){const t=this.to;this.to=this.from,this.from=t}this.colorPoint=[this.emptyOffset,"100%"],this.gradientCSS=`linear-gradient(to bottom, ${this.from} ${this.colorPoint[0]}, ${this.to} ${this.colorPoint[1]})`}setLightColor(){this.bottomExtendHeight=this.isCodeEmpty?0:56,this.to="#ffffff",this.from=this.color.themeColor,this.colorPoint=["10%","100%"],this.gradientCSS=`linear-gradient(to bottom, ${this.from} ${this.colorPoint[0]}, ${this.to} ${this.colorPoint[1]})`}isLikeBlack(t){const e=_.a.fromHex(t),{s:o,v:r}=e.toHsvObject();return!(o<=30&&o>0&&r<=100&&r>=90)&&(!(o<=100&&o>30&&r<=100&&r>=90||r<90&&r>=20||"#ea9118"===t||"#eeb420"===t)&&(r<20&&r>=0))}getIsBrightMinus20(t){const e=_.a.fromHex(t),{s:o,v:r}=e.toHsvObject();return!(o<=30&&o>0&&r<=100&&r>=90)&&(o<=100&&o>30&&r<=100&&r>=90||r<90&&r>=20||"#ea9118"===t||"#eeb420"===t)}calcTarget(t){const e=_.a.fromHex(t),{h:o,s:r,v:n}=e.toHsvObject();let i="#ffffff";return r<=30&&r>0&&n<=100&&n>=90?i="#ffffff":r<=100&&r>30&&n<=100&&n>=90||n<90&&n>=20?i=_.a.fromHsvArray([o,r,n-20]).toHex():n<20&&n>=0&&(i=_.a.fromHsvArray([o,r,n+20]).toHex()),i}fmtColor(){const t=this.sourceColor;for(const[e,o]of Object(a["g"])(t))t[e]=O(o).toLocaleLowerCase();this.color=t,this.themeType="#000000"===this.color.foreColor?"light":"dark"}get isDark(){return"dark"===this.themeType}get isLight(){return"light"===this.themeType}dispatchLogic(t,e,o){this.ruleType===v.DARK&&t(),this.ruleType===v.DEFAULT&&(this.isDark?t():e()),this.ruleType===v.LIGHT&&e(),this.ruleType===v.SPECIAL_RECORD&&(this.isLight?e():o())}emptySetter(t,e,o){this[t]=this.isCodeEmpty?e:o}checkOffset(){const{topComponent:t=[],emptyOffset:e,deviceWidth:o}=this;t.forEach(t=>{if("image"===t.component_code){const{attribute_list:r=[]}=t;if(r.length){const{prew_type:t,image_height:n,image_width:i,image_style:c}=r[0],a=Number(c.value);if(2===a||3===a){let c=0;if(2===a&&1===this.record.expand_log&&!this.isCodeEmpty&&this.isDark)c=parseInt(e,10);else if(2===a)return;let s=0;s=0===Number(t.value)?o*Number(n.value)/Number(i.value):r.reduce((t,e)=>t+o*Number(e.image_height.value)/Number(e.image_width.value),0);const l=s+c;this.emptyOffset=String(l)+"px",this.colorPoint=[parseInt(l,10)+"px","100%"],this.gradientCSS=`linear-gradient(to bottom, ${this.from} ${this.colorPoint[0]}, ${this.to} ${this.colorPoint[1]})`}}}})}calcOtherColor(){this.calcRecordButtonEntryBackground(),this.calcAddRecordButtonBackground(),this.calcHeadFileDownloadBtnBackground(),this.calcHeadFilePreviewBtnBackground(),this.calcRecordDividerColor(),this.calcRecordTitleColor(),this.calcHeadFileDownloadBtnColor(),this.calcHeadFilePreviewBtnColor()}calcRecordButtonEntryBackground(){this.dispatchLogic(()=>{this.recordButtonEntryBackground=this.color.themeColor},()=>{this.recordButtonEntryBackground=this.color.hThemeColor},()=>{this.recordButtonEntryBackground=this.color.themeColor})}calcRecordButtonEntryColor(){this.dispatchLogic(()=>{this.emptySetter("recordButtonEntryColor",this.color.themeColor,"#ffffff")},()=>{this.recordButtonEntryColor="#ffffff"},()=>{})}calcAddRecordButtonBackground(){this.dispatchLogic(()=>{this.addRecordButtonBackground=y(this.color.themeColor,[0,0,0],.98)},()=>{this.addRecordButtonBackground=y(this.color.hThemeColor,[0,0,0],.98)},()=>{this.addRecordButtonBackground=y(this.color.themeColor,[0,0,0],.98)})}calcHeadFileDownloadBtnBackground(){this.dispatchLogic(()=>{this.headFileDownloadBtnBackground=y(this.color.themeColor,[0,0,-40],.2)},()=>{this.headFileDownloadBtnBackground="#ffffff"},()=>{this.headFileDownloadBtnBackground=y(this.color.themeColor,[0,0,-40],.2)})}calcHeadFileDownloadBtnColor(){this.dispatchLogic(()=>{this.headFileDownloadBtnColor="#ffffff"},()=>{this.headFileDownloadBtnColor="#333333"},()=>{this.headFileDownloadBtnColor="#ffffff"})}calcHeadFilePreviewBtnBackground(){this.dispatchLogic(()=>{this.headFilePreviewBtnBackground="#ffffff"},()=>{this.headFilePreviewBtnBackground=this.color.hThemeColor},()=>{this.headFilePreviewBtnBackground="#ffffff"})}calcHeadFilePreviewBtnColor(){this.dispatchLogic(()=>{this.headFilePreviewBtnColor=this.color.themeColor},()=>{this.headFilePreviewBtnColor="#ffffff"},()=>{this.headFilePreviewBtnColor=this.color.themeColor})}calcRecordDividerColor(){this.recordDividerColor=this.color.hThemeColor||this.color.themeColor}calcRecordTitleColor(){this.recordTitleColor=this.color.hThemeColor||this.color.themeColor}}var x=E;const T={themeColor:"#ffffff",hThemeColor:"#ffffff",foreColor:"#000000",hForeColor:"#000000"};class A{constructor(t,e=!1){this.sourceColor=T,this.gradient=!1,this.color=T,this.bg="",this.titleColor="",this.other="",this.gradient=e,this.sourceColor=t,this.doFmtColor(),this.calc()}doFmtColor(){const t=this.sourceColor,e=T;for(const[o,r]of Object(a["g"])(t))e[o]=O(r).toLocaleLowerCase();this.color=e}get isDark(){return"#ffffff"===this.color.foreColor}calc(){"#ffffff"===this.color.themeColor?(this.bg="rgba(0, 0, 0, 0.05)",this.titleColor="rgba(0, 0, 0, 0.7)",this.other="#333333"):"#000000"===this.color.themeColor?(this.bg="rgba(255, 255, 255, 0.1)",this.titleColor="rgba(255, 255, 255, 0.7)",this.other="#ffffff"):this.isDark?(this.bg=y(this.color.themeColor,[0,0,-40],.2),this.titleColor="rgba(255, 255, 255, 0.7)",this.other="#ffffff"):(this.bg=y(this.color.hThemeColor,[0,0,-10],.1),this.titleColor="rgba(0, 0, 0, 0.7)",this.other="#333333"),"#ffdf22"===this.color.themeColor.toLocaleLowerCase()&&(this.bg=y("#000000",[0,0,0],.05))}}var S=A,R=async t=>{const e=Object(m["F"])(t);t.qrcode_msg&&(t.qrcode_record=t.qrcode_msg.qrcode_record);const o=2===t.qrcode_record.tpl_qrcode_status,r=Object(a["i"])(Object(m["r"])(t,"qrcode_compontent")||[],t=>"recordlog"!==t.component_code),n=!r.length,c=!!Object(m["r"])(t,"org_msg.org_dest_qrcode_route",!1)&&!n,s=!t.record_summary_status,l=0===t.qrcode_record.record_add_status,d=e&&s&&2!==Object(m["r"])(t,"log_msg.recordview_position");!e&&!t.has_state||Object(m["r"])(t.qrcode_record,"top_style.theme_color",!1)||(t.qrcode_record.top_style={bg_path:"",color_style:1,font_color:"000",theme_color:"F4F4F4"});const u=!!Object(m["r"])(t,"qrcode_record.top_style.theme_color");let p=!1,h="";for(const i of Object(m["r"])(t,"qrcode_top_component",[]))if(Object(a["C"])(["audio","video","image","file"],i.component_code)&&1!==i.status){p=!0,h=i.component_code;break}const f={codeHeaderTitleInfo:{},codeColorInfo:{gradient:{},recordEntry:{}},isRecordCode:e,hasOpenRecordView:s,hasOpenRecordLog:l,isTplCode:o,isCompEmpty:n,isOrgDest:c,isHeadCode:p,headType:h,showRecordView:d,operation:t.operateData};let g=!1;Object(a["l"])(t.qrcode_top_component,t=>{if(Object(a["C"])(["video","audio","file","image"],t.component_code)&&(g=!0),"text"===t.component_code&&0===t.status){if(""===t.attribute_list[0].content_html.value)return;f.codeHeaderTitleInfo={type:"title",title:t.attribute_list[0].content_html.value}}"recordlog"===t.component_code&&t.status});let b=t.qrcode_top_component;Object(m["r"])(t,"log_msg.data_list.length",0)>0||(b=Object(a["i"])(b,t=>"recordlog"!==t.component_code)),o&&t.qrcode_record.name_rule&&1===t.qrcode_record.name_rule.show_status&&(f.codeHeaderTitleInfo.title=t.qrcode_record.list_name),o&&o&&t.qrcode_record.name_rule&&1!==t.qrcode_record.name_rule.show_status&&(f.codeHeaderTitleInfo={});const _=t.log_msg&&t.log_msg.rule_result&&t.log_msg.rule_result.color,O=/#/g.test(_);if(t.qrcode_record.top_style&&t.qrcode_record.top_style.theme_color){const e=t.qrcode_record.top_style,o=O?"#fff":"#"+e.font_color.toLocaleLowerCase(),r=O?_:"#"+e.theme_color.toLocaleLowerCase();f.codeColorInfo={themeColor:r,foreColor:o,recordTextColor:O?_:Object(a["C"])(["#fff","#ffffff"],o)?r:o}}else{const t=O?_:f.isHeadCode?"#f4f4f4":"#fff",o=O?_:e?"#f4f4f4":t,r=O||e?"#fff":"#000",n=O?_:Object(a["C"])(["#fff","#ffffff"],r)?o:r;f.codeColorInfo={themeColor:o,foreColor:r,recordTextColor:n}}const y=f.codeColorInfo;y.lowThemeColor=Object(a["N"])(y.themeColor),y.lowCrtColor=Object(a["M"])(y.themeColor),Object(a["C"])(["#000","#000000"],y.foreColor)&&(Object(a["C"])(["#fff","#ffffff"],y.themeColor)?y.recordTextColor="#375f94":y.recordTextColor=y.lowCrtColor);for(const[i,m]of Object(a["g"])(f.codeColorInfo)){let t=m.replace("#","");3===t.length&&(t=t.split("").map(t=>`${t}${t}`).join("")),f.codeColorInfo[i]="#"+t}"#000000"===f.codeColorInfo.themeColor&&(f.codeColorInfo.lowThemeColor="#000000"),Object(m["r"])(t,"qrcode_record.top_style.theme_color")||e||!g||(f.codeColorInfo.themeColor="#ffffff",f.codeColorInfo.foreColor="#000000",f.codeColorInfo.lowThemeColor=Object(a["N"])("#ffffff"),f.codeColorInfo.lowCrtColor=Object(a["M"])("#000000"),t.qrcode_record.top_style.color_style=1);const v={themeColor:y.themeColor,foreColor:y.foreColor,hForeColor:y.lowCrtColor,hThemeColor:y.lowThemeColor},j=new x(v,{topComponent:b,record:t.log_msg,isCodeEmpty:n,isRecordCode:e,settedColor:u,deviceWidth:document.documentElement.clientWidth}),C=new S(v);f.codeColorInfo.gradient=j,f.codeColorInfo.recordEntry=C,f.codeColorInfo.type=Object(m["r"])(t,"qrcode_record.top_style.color_style")?"gradient":"pure",j.useDefaultColor&&!u&&(f.codeColorInfo.type="gradient");const w=b.map(t=>({value:Object(m["r"])(t,"attribute_list.0",{}),type:t.component_code}));return 1===w.length&&("text"!==w[0].type||n||Object(m["r"])(w[0].value,"content_html.value","")||(f.codeColorInfo.type="pure")),await i["a"].setKey({key:"codeInfo",value:f}),await i["a"].setKey({key:"codeData",value:t}),f},I=o("d1b2"),D=o("f1d0"),$=o("08f7"),L=o("a607"),M=o("dfe4"),H=o("0c6d"),k=o("8262"),B=o("e548");class q{constructor({layout:t,project:e,dpr:o,windowWidth:r,margin:n}){this.layout=null,this.project=null,this.originDpr=1,this.originWindowWidth=0,this.margin=0,this.computedDpr=1,this.computedWindowWidth=0,this.computedLayout=null,this.layout=t,this.project=e,this.originDpr=o,this.originWindowWidth=r,this.margin=n,this.computeDpr(),this.computeWindowWidth(),this.computeLayout()}computeDpr(){const{originDpr:t}=this;this.computedDpr=Object(H["a"])(t)}computeWindowWidth(){const{project:t,computedDpr:e,originWindowWidth:o}=this;this.computedWindowWidth=Object(k["a"])({project:t,computedDpr:e,originWindowWidth:o})}computeLayout(){const{layout:t}=this;if(!t)return;const e=Object($["a"])(t,"table.wrapperWidth",0),o=Object($["a"])(t,"table.wrapperBorderWidth",0),r=Object($["a"])(t,"table.width",0),n=this.getMaxWidth();if(r+2>e+2*o&&r>n)return;const i=n/r,c=Object($["a"])(t,"rows",[]),a=[];Object(L["a"])(c,t=>{const e=[];Object(L["a"])(t,t=>{const o=Object($["a"])(t,"width");e.push({width:o?Math.floor(o*i):o})}),a.push(e)});const s=Object($["a"])(t,"cols",[]),l=Object(M["a"])(s,t=>{const e=Object($["a"])(t,"width");return{...t,width:e?Math.floor(e*i):e}});this.computedLayout={table:{width:Math.floor(r*i)},rows:a,cols:l}}getComputedLayout(){return this.computedLayout}getMaxWidth(){const{project:t,margin:e}=this,o=t===D["e"].MPCLI?375:this.computedWindowWidth;return Object(B["b"])({type:B["a"].TABLE,project:t,computedWindowWidth:o,margin:e})}}var N=q;const{domain:P}=i["a"];let U=class{async getCodeInfoNew(t,e,o,r,n){const{render_default_fields:i="0"}=Object(m["o"])();return n?{qrcode_route:t,password:e,...o&&o.lon?{longitude:o.lon,latitude:o.lat}:{},...r||{},render_default_fields:i,render_edit_btn:1,client:"alipay_app"}:{qrcode_route:t,password:e,...o&&o.lon?{longitude:o.lon,latitude:o.lat}:{},...r||{},render_default_fields:i,render_edit_btn:1}}async getQrcodeProperties(t,e,o){return o?{qrcode_route:t,...e||{},client:"alipay_app"}:{qrcode_route:t,...e||{}}}async getRecordInfo(t,e,o){return"#/"===t.substr(t.length-2,2)&&(t=t.replace(/#\//g,"")),{qrcode_route:t,password:null,env:"h5",org_id:o}}async getRecordInfoDissociate(t,e,o){return"#/"===t.substr(t.length-2,2)&&(t=t.replace(/#\//g,"")),{qrcode_route:t,password:null,env:"h5",org_id:o}}async getUrlSchema(t,e,o,r){return o||(o="wx5db79bd23a923e8e"),e=encodeURIComponent(e),t=encodeURIComponent(t),o=encodeURIComponent(o),r=encodeURIComponent(r),{query:e,path:t,appid:o,org_coding:r}}async getWxCorpIdByOrgCode({orgCode:t,env:e}){return{org_code:t,env:e}}async getJsConfig({corpId:t,suiteId:e,url:o,isAgent:r}){return{corp_id:t,suite_id:e,url:o,is_agent:r}}async getQrcodeOperationByQrcodeRoute(t){return{qrcode_route:t,env:"h5"}}async getTargetStateMsg(t){return{qrcode_route:t,with_state_change_log:1}}async getRecordEventMsg(t){return{qrcode_route:t}}async getAvConvertStatusByPath(t){return{path:t}}async getPathAvhumbLogInfo(t){return{path:t}}async getTargetQrcodeTaskMsg(t){return{qrcode_route:t}}async getStateMsg(t){return{state_id:t}}async getTargetStateLog(t,e,o){return{state_id:t,qrcode_route:e,page:o}}async onlychecked(t,e){return{coding:t,org_code:e,js_code:"",app_id:"",mini_type:"h5"}}async getCodeInfoAll(t,e,o,r,n,c){return new Promise((a,s)=>{const{getQrcodePropertiesLimit:l}=i["a"],d=[this.getCodeInfoNew(t,e,o,r,c),this.getRecordInfo(t,e,n),this.getTargetStateMsg(t),this.getQrcodeOperationByQrcodeRoute(t)];l||d.push(this.getQrcodeProperties(t,r,c)),Promise.all(d).then(([t,e,o,r,n])=>{try{(t||n)&&(t.org_msg={...t.org_msg||{},...l?{}:n.data.org_msg||{}},t.qrcode_msg={...t.qrcode_msg,...l?{}:n.data.qrcode_msg},t={...t||{},...t.qrcode_msg||{},...l?{}:n.data.record_msg||{}},l||(t.edition_msg={edition_id:Object(m["r"])(n,"data.org_msg.edition_id"),from_edition_id:Object(m["r"])(n,"data.org_msg.from_edition_id")}),Object(m["r"])(t,"qrcode_record")&&(t.qrcode_record.media_flow_limited=Object(m["r"])(t,"org_msg.media_flow_limited"),t.qrcode_record.media_flow_total=Object(m["r"])(t,"org_msg.media_flow_total"),t.qrcode_record.media_flow_used=Object(m["r"])(t,"org_msg.media_flow_used"),t.qrcode_record.user_id=Object(m["r"])(t,"org_msg.user_id")))}catch(s){console.error("error",s)}const{from:i=""}=Object(m["o"])(),c=Object(m["r"])(o,"data."+t.qrcode_record.id,[]);if(t.log_msg=e.data,t.has_state=!!c.length,"0"===t.code||"nc_check"===i){const o=Object(m["r"])(r,"data",[]),n=Object(m["r"])(e,"data.data_list",[]),i=I["a"].combine({operateMsg:o,stateList:c,tplList:n});t.operateData=i,R(t).then(e=>{t.codeCommonInfo=e,a(t)})}else a(t)}).catch(t=>{s(t)})})}async getTargetXcxOriginalId(t){return{qrcode_route:t}}async getRecordHistory(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{code_id:e,union_id:"",env:"h5",...t}}async getRecordHistoryDissociate(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{code_id:e,union_id:"",env:"h5",...t}}async getRecordHistorySimplify(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{code_id:e,union_id:"",env:"h5",...t}}async getRecordHistorySimplifyDissociate(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{code_id:e,union_id:"",env:"h5",...t}}async getRecordsGroupByProcessStatus(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{code_id:e,env:"h5",...t}}async getRecordOperateStats(t){const{codeData:{qrcode_record:{id:e}}}=i["a"];return{qrcode_id:e,env:"h5",...t}}async getRecordFormDesc(t,e,o){return{tpl_id:t,org_id:e,...o||{}}}async playCounter(t){return t}async mediaCanPlay(t){return t}async getComplainList(){}async doComplain(t,e,o,r,n){return{type_id:t,content:e,contact:o,img_url:r.join(","),coding:Object(m["r"])(i["a"],"codeData.qrcode_record.coding","")||n,open_id:i["a"].oid}}async getRecord(t){return{record_route:t}}async getAssistMaster(t){return{assist_token:t}}async getQrcodeOrgMsg(t){return{qrcode_route:t}}async getSyCodeInfo({url:t,psw:e,pos:o,token:r,lastedId:n=0,pageSize:i=g["b"],page:c=0,listType:a="qrcode",...s}){return{category_route:t,lasted_id:n,page_size:i,page:c,list_type:a,...s,password:e,...o&&o.lon?{longitude:o.lon,latitude:o.lat}:{},...r||{}}}async getSyCodImgAll({web_urls:t,category_ids:e,org_id:o,org_time:r,org_publickey:n}){return{web_urls:t,need_color:0,category_ids:e,org_id:o,org_time:r,org_publickey:n}}async getSyCodeInfoAll(t,e,o,r,n,i){return new Promise((c,a)=>{Promise.all([this.getSyCodeInfo({url:t,psw:e,pos:o,token:r,...i}),this.getRecordInfo(t,e,n)]).then(([t,e])=>{t.log_msg=e.data,0===+t.code?R(t).then(e=>{t.codeCommonInfo=e,c(t)}):c(t)}).catch(t=>{a(t)})})}async getBatchChildrenList({url:t,batchId:e=0,page:o=1}={url:"",batchId:0,page:1}){return{qrcode_route:t,page:o,batch_id:e,batch_page_size:100,qrcode_page_size:20,not_valid:1}}async getTplBatchChildrenList({url:t,batchId:e=0,page:o=1,pageSize:r=20}={url:"",batchId:0,page:1,pageSize:20}){return{qrcode_route:t,page:o,batch_id:e,page_size:r,not_valid:1}}async getQrCodeBaseSetInfo({qrcodeId:t}){return{qrcode_id:t}}async operateDataAuthSetting(t){return t}async getCodeMsg(t,e={}){return{id:t,...e||{}}}async getPresetCodeRecordInfo(t){return{qrcode_id:t}}async clonePresetRecordInfo(t){return{source_code_id:t}}async saveCode(t,e,o,r=""){return{create_from:e,is_new:1,qrcode_msg:t,scene_log:o,user_id:r}}async setRecodeInfo(t){const e={};return Object(a["g"])(t).forEach(([t,o])=>{e[t]=encodeURIComponent(o)}),e}async getAuthGroupWebUrl(t){return t}async getRuleGroupInfo(t){return t}async getUserInfo(){}async getQrcodeRoute(t){return{qrcode_route:t}}async getChildQrCodeNotaryData(t){return{qrcode_route:t}}async getStateDetail(t,e){return{state_id:t,qrcode_route:e}}};Object(r["a"])([p("/qrcoderoute/qrcodeRouteNew"),f(async t=>{t.data.qrcode_msg=t.data.qrcode_msg||{qrcode_record:{},codeCommonInfo:{codeColorInfo:{},codeHeaderTitleInfo:{}},qrcode_top_component:{},qrcode_component:{}};const e=t.data;if(e.code=t.msg.code,e.errorTips=t.msg.text,"h5"===i["a"].platform){const{$:t}=window,r=Object(m["r"])(e,"qrcode_msg.qrcode_compontent",[]);try{const o=Object(m["r"])(e,"qrcode_msg.qrcode_top_component",[]),n=Object(m["r"])(e,"qrcode_msg.qrcode_record.id");Object(m["r"])(e,"qrcode_msg.qrcode_record")&&(e.qrcode_msg.qrcode_record.user_id=Object(m["r"])(e,"org_msg.user_id")),Object(m["w"])([...r,...o])&&t(window).trigger("log",[{from:"imageHasNoSize",message:{qrCodeId:n}}]),Object(m["u"])(r)&&t(window).trigger("log",[{from:"hasImgTag",message:{qrCodeId:n}}]),Object(m["v"])(r)&&t(window).trigger("log",[{from:"hasRepeatText",message:{qrCodeId:n}}]),Object(m["A"])(r)&&t(window).trigger("log",[{from:"isColspanError",message:{qrCodeId:n}}]),Object(m["f"])([...r,...o])&&t(window).trigger("log",[{from:"exceedImagePxLimit",message:{qrCodeId:n}}])}catch(o){console.error(o)}try{const{devicePixelRatio:e}=window,{innerWidth:o}=window;Object(a["l"])(r,r=>{const n=Object(m["r"])(r,"component_code");if("text"===n){const n=Object(m["r"])(r,"attribute_list.0.content_html",{}),i=Object(m["r"])(n,"value","");if(Object(m["t"])(i,"cke_table_wrapper")){const r=t("<div></div>").html(i),c=r.find(".cke_table");if(1===c.length){const t=Object(a["R"])(c.attr("data-layout"));if(t){const i=new N({layout:t,project:D["e"].MPCLI,dpr:e,windowWidth:o,margin:16}),s=i.getComputedLayout();Object(m["e"])("computedLayout",s);const l=Object(m["r"])(s,"cols",[]);l.length&&(c.find("colgroup").remove(),c.addClass("x-fixed").css({width:Object(m["r"])(s,"table.width","auto")}).prepend(["<colgroup>",...Object(a["O"])(l,t=>{const e=Object(m["r"])(t,"width");return e?`<col style="width:${e}px" />`:"<col />"}),"</colgroup>"].join("")),n.value=r.html())}}}}})}catch(o){console.error(o)}}return t.data})],U.prototype,"getCodeInfoNew",null),Object(r["a"])([p("/qrcoderoute/getQrcodeProperties")],U.prototype,"getQrcodeProperties",null),Object(r["a"])([h("/record/getRecordTpl")],U.prototype,"getRecordInfo",null),Object(r["a"])([h("/record/getRecordTplDissociate")],U.prototype,"getRecordInfoDissociate",null),Object(r["a"])([h("/api/weixin/getWxUrlScheme"),f(async t=>t)],U.prototype,"getUrlSchema",null),Object(r["a"])([h("/api/weixin/getWxCorpIdByOrgCode"),f(async t=>t)],U.prototype,"getWxCorpIdByOrgCode",null),Object(r["a"])([h("/api/weixin/getJsConfig"),f(async t=>t)],U.prototype,"getJsConfig",null),Object(r["a"])([h("/operation/getQrcodeOperationByQrcodeRoute")],U.prototype,"getQrcodeOperationByQrcodeRoute",null),Object(r["a"])([h("/state/getTargetStateMsg")],U.prototype,"getTargetStateMsg",null),Object(r["a"])([h("/record/getRecordEventMsg")],U.prototype,"getRecordEventMsg",null),Object(r["a"])([p("/api/AvthumbAsync/getResultByPath"),f(t=>t)],U.prototype,"getAvConvertStatusByPath",null),Object(r["a"])([p("/api/AvthumbAsync/getPathAvhumbLogInfo"),f(t=>t)],U.prototype,"getPathAvhumbLogInfo",null),Object(r["a"])([h("/task/getTargetQrcodeTaskMsg")],U.prototype,"getTargetQrcodeTaskMsg",null),Object(r["a"])([h("/state/getStateMsg")],U.prototype,"getStateMsg",null),Object(r["a"])([h("/state/getTargetStateLog")],U.prototype,"getTargetStateLog",null),Object(r["a"])([h("/decode/onlyCheckAuthed")],U.prototype,"onlychecked",null),Object(r["a"])([h("/decode/getTargetXcxOriginalId"),f(async t=>{try{if(1===t.code){const{original_id:e}=t.data;await i["a"].setKey({key:"xcxOriginalId",value:e})}}catch(e){console.error("获取小程序原始id失败！"),console.error(e)}return t})],U.prototype,"getTargetXcxOriginalId",null),Object(r["a"])([h("/record/getRecordsForApp")],U.prototype,"getRecordHistory",null),Object(r["a"])([h("/record/getRecordsForAppDissociate")],U.prototype,"getRecordHistoryDissociate",null),Object(r["a"])([h("/record/getRecordsForAppSimplify")],U.prototype,"getRecordHistorySimplify",null),Object(r["a"])([h("/record/getRecordsForAppSimplifyDissociate")],U.prototype,"getRecordHistorySimplifyDissociate",null),Object(r["a"])([h("/record/getRecordsGroupByProcessStatus")],U.prototype,"getRecordsGroupByProcessStatus",null),Object(r["a"])([h("/api/record/recordStatistics")],U.prototype,"getRecordOperateStats",null),Object(r["a"])([h("/record/getDesc"),f(async t=>t.data)],U.prototype,"getRecordFormDesc",null),Object(r["a"])([h("/qrcode/media/play")],U.prototype,"playCounter",null),Object(r["a"])([h("/qrcode/media/check_can_play"),f(async t=>{try{if(1===t.code){const{openid:e=""}=t.data;Object(n["u"])(e)}}catch(e){console.error("设置 openid 失败"),console.error(e)}return t})],U.prototype,"mediaCanPlay",null),Object(r["a"])([p("/api/Complaint/GetAllComplainttype"),f(t=>t.data)],U.prototype,"getComplainList",null),Object(r["a"])([h("/api/Complaint/AddComplaint")],U.prototype,"doComplain",null),Object(r["a"])([h("/record/getRecord"),f(t=>t)],U.prototype,"getRecord",null),Object(r["a"])([h("/template_qrcode/getAssistMaster"),f(t=>t)],U.prototype,"getAssistMaster",null),Object(r["a"])([h("/qrcoderoute/getQrcodeOrgMsg"),f(t=>t)],U.prototype,"getQrcodeOrgMsg",null),Object(r["a"])([p("/category/getListByCategoryRoute"),f(async t=>{t.data=t.data||{qrcode_record:{},codeCommonInfo:{codeColorInfo:{},codeHeaderTitleInfo:{}},qrcode_top_component:{},qrcode_component:{}};const e=t.data;return e.code=t.msg.code,t.data})],U.prototype,"getSyCodeInfo",null),Object(r["a"])([h("/api/qrcode/getQrcodePrimaryPicture"),f(t=>t)],U.prototype,"getSyCodImgAll",null),Object(r["a"])([p("/batchQrcode/getTplChildrenList"),f(async t=>t.data)],U.prototype,"getBatchChildrenList",null),Object(r["a"])([p("/batchQrcode/getTplBatchChildrenList"),f(async t=>1===t.code?t.data:(console.error(Object(m["r"])(t,"msg.text")),""))],U.prototype,"getTplBatchChildrenList",null),Object(r["a"])([p("/qrcode/getQrcodeBaseSetting"),f(async t=>1===t.code?t.data:(console.error(Object(m["r"])(t,"msg.text")),""))],U.prototype,"getQrCodeBaseSetInfo",null),Object(r["a"])([h("/dataAuth/operateDataAuthSetting")],U.prototype,"operateDataAuthSetting",null),Object(r["a"])([h("/qrcode/getQrcodeMsg")],U.prototype,"getCodeMsg",null),Object(r["a"])([h("/record/getTpls")],U.prototype,"getPresetCodeRecordInfo",null),Object(r["a"])([h("/record/cloneBathTpl")],U.prototype,"clonePresetRecordInfo",null),Object(r["a"])([h("/qrcode/operateQrcodeMsg")],U.prototype,"saveCode",null),Object(r["a"])([h("/qrcode/setQrcodeRecord")],U.prototype,"setRecodeInfo",null),Object(r["a"])([h("/power/MemberAuth/getAuthGroupWebUrlByForXcx")],U.prototype,"getAuthGroupWebUrl",null),Object(r["a"])([h("/power/MemberAuth/getGroup")],U.prototype,"getRuleGroupInfo",null),Object(r["a"])([p("/user/initUserSession"),f(t=>t)],U.prototype,"getUserInfo",null),Object(r["a"])([h("/qrcoderoute/qrcodeRouteNew"),f(async t=>Object(m["r"])(t,"data.qrcode_msg.qrcode_record.tpl_id",""))],U.prototype,"getQrcodeRoute",null),Object(r["a"])([p("/template_qrcode/getChildQrcodeNotaryData")],U.prototype,"getChildQrCodeNotaryData",null),Object(r["a"])([h("/state/getStateMsg")],U.prototype,"getStateDetail",null),U=Object(r["a"])([l(P.decodeUrl)],U);var W=new U;let F=class{async getLoginSession(t,e,o){return{app_openid_encry:e,expire_time:o,user_id:t}}async sso(t,e,o){return{app_openid_encry:e,expire_time:o,user_id:t,isactives:23,cli_domain:"cli.im"}}};Object(r["a"])([h("/login/entry_app")],F.prototype,"getLoginSession",null),Object(r["a"])([p("/api/sso_server_login_app_mobile")],F.prototype,"sso",null),F=Object(r["a"])([l(i["a"].domain.userUrl)],F);var G=new F,Y=o("8f21"),z=o("6821"),Q=o.n(z);const{domain:J}=i["a"];let K=class{async scanCounter(t,e){const{scene:o,url:r}=i["a"].h5QueryString,n={openid:"",user_id:e,web_url:r,device_info:navigator.userAgent,qrcode_route:JSON.stringify(i["a"].codeData.qrcode_record),code_origin:0,from:o||2};return[n,{coding:t}]}async scan(t){const e=(new Y["a"]).id.substring(0,28),o={c:t.qrcode_record.coding,tid:t.org_msg.user_id,u:t.qrcode_record.web_url,lt:parseInt(+new Date/1e3,10),oi:e,uc:Q()(`${e}${t.qrcode_record.coding}`),ua:navigator.userAgent,f:2,ds:`${document.documentElement.clientHeight}x${document.documentElement.clientWidth}`,ln:navigator.language,is:Object(m["r"])(t,"qrcode_record.create_from",""),si:Object(m["r"])(t,"qrcode_record.scene_module_id","")};return o}async logClick(t,e,o="",r=""){return{fir:t,sec:e,desc:o,datas:"string"===typeof r?r:JSON.stringify(r)}}};Object(r["a"])([h("/log/scan/:coding")],K.prototype,"scanCounter",null),Object(r["a"])([p("/log/collect")],K.prototype,"scan",null),Object(r["a"])([h("/log/click",J.logApiUrl)],K.prototype,"logClick",null),K=Object(r["a"])([l(J.analysisUrl)],K);var V=new K;const{domain:X}=i["a"];let Z=class{async getWxConfig(t){return{url:t}}};Object(r["a"])([u("/wxConfig/share")],Z.prototype,"getWxConfig",null),Z=Object(r["a"])([l(X.wxApiUrl)],Z);var tt=new Z;const et=i["a"].domain;let ot=class{async clickLog(t,e){return{fir:t,sec:e}}async getTabContent(t){return{code_id:t}}async getTemplate(t,e){return{code_id:t,detail_ass_tag:e,__timestamp:(new Date).getTime()}}async getQrcodeTypeUrl(t){return{coding_url:t}}async getSceneTemplateMsg(t,e){const[o,r]=await Promise.all([this.getTabContent(t),this.getTemplate(t,e)]);return{tagContent:o,tempMsg:r}}};Object(r["a"])([u("/Api/ClickLog/click")],ot.prototype,"clickLog",null),Object(r["a"])([p("/SceneTemplate/getTabContent"),f(async t=>Object(a["x"])(t,"data",{}))],ot.prototype,"getTabContent",null),Object(r["a"])([p("/SceneTemplate/getTemplate"),f(async t=>Object(a["x"])(t,"data",{}))],ot.prototype,"getTemplate",null),Object(r["a"])([h("/Apis/code_info/get_qrcode_type_url")],ot.prototype,"getQrcodeTypeUrl",null),ot=Object(r["a"])([l(et.cliUrl)],ot);var rt=new ot;const nt=i["a"].domain;let it=class{async qrcodeAddLog({business_type:t,create_from:e,share_type:o,qrcode_code:r}){return{business_type:t,create_from:e,share_type:o,qrcode_code:r}}};Object(r["a"])([p("/qrcode/addLog"),f(async t=>t.data)],it.prototype,"qrcodeAddLog",null),it=Object(r["a"])([l(nt.logApiUrl)],it);new it;const ct=i["a"].domain;let at=class{async getVideoCover(t){return{url:t}}};Object(r["a"])([p("/qiniu/getVideoCover"),f(t=>t)],at.prototype,"getVideoCover",null),at=Object(r["a"])([l(ct.uploadUrl)],at);var st=new at;const{domain:lt}=i["a"];let dt=class{async getJsConfig({corpId:t,suiteId:e,url:o,isAgent:r}){return{corp_id:t,suite_id:e,url:o,is_agent:r}}};Object(r["a"])([h("/services/getJsConfig"),f(async t=>t)],dt.prototype,"getJsConfig",null),dt=Object(r["a"])([l(lt.weWorkApiUrl)],dt);new dt},6260:function(t,e,o){"use strict";var r=o("cb9b");const n=t=>"[object Number]"===Object.prototype.toString.call(t)&&!Object(r["a"])(t);e["a"]=n},"6b40":function(t,e,o){"use strict";o.d(e,"c",(function(){return i})),o.d(e,"f",(function(){return c})),o.d(e,"d",(function(){return a})),o.d(e,"e",(function(){return s})),o.d(e,"b",(function(){return h})),o.d(e,"a",(function(){return f}));var r=o("f1d0"),n=o("8e05");const i="操作入口",c=n["c"].TimeLine,a=(n["a"].Head,n["b"].BlockList),s=(n["d"].Head,"动态档案"),l={IDENTITY_GROUP:1,CODE_MANAGER:2},d=(l.IDENTITY_GROUP,r["g"].APPLY,l.CODE_MANAGER,r["g"].APPLY,{MEMBER:3,CHILD_MANAGER:2,DATA_CHECKER:5,CODE_MANAGER:6,CODE_CHECKER:7,DEFAULT:5}),u={MEMBER:"高级成员-手机端管理",DATA_CHECKER:"高级成员-数据管理",CHILD_MANAGER:"高级成员-系统管理",CODE_MANAGER:"码管理员",CODE_CHECKER:"码管理员"},p={MEMBER:"申请成为高级成员-手机端管理",DATA_CHECKER:"申请成为高级成员-数据管理",CHILD_MANAGER:"申请成为高级成员-系统管理",CODE_MANAGER:"申请成为码管理员",CODE_CHECKER:"申请成为码管理员"},h={[d.MEMBER]:p.MEMBER,[d.DATA_CHECKER]:p.DATA_CHECKER,[d.CHILD_MANAGER]:p.CHILD_MANAGER,[d.CODE_MANAGER]:p.CODE_MANAGER,[d.CODE_CHECKER]:p.CODE_CHECKER},f={[d.MEMBER]:u.MEMBER,[d.DATA_CHECKER]:u.DATA_CHECKER,[d.CHILD_MANAGER]:u.CHILD_MANAGER,[d.CODE_MANAGER]:u.CODE_MANAGER,[d.CODE_CHECKER]:u.CODE_CHECKER}},"76a4":function(t,e,o){"use strict";var r=o("a719"),n=o("0cbb"),i=o("a607");e["a"]=(t,e)=>{let o=!1;return Object(r["a"])(t)?Object(i["a"])(t,t=>{if(t===e)return o=!0,!1}):Object(n["a"])(t)&&(o=t.indexOf(e)>-1),o}},"76ac":function(t,e,o){"use strict";var r=o("76a4");e["a"]=t=>!!t&&Object(r["a"])(["fff","ffffff"],t.toLocaleLowerCase())},"77ed":function(t,e,o){"use strict";var r=o("f1d0"),n=o("08f7"),i=o("76a4"),c=o("cb9b"),a=o("a607"),s=o("28ec"),l=o("e548");class d{constructor({data:t,project:e,imageStyle:o,prewType:i,isSingle:a,computedWindowWidth:s,imageStyle1Margin:l}){this.data=null,this.project=null,this.imageStyle=r["b"].IMAGE_STYLE_1,this.prewType=r["d"].TILE,this.isSingle=!1,this.computedWindowWidth=0,this.imageStyle1Margin=0,this.originWidth=0,this.originHeight=0,this.computedWidth=0,this.computedHeight=0,this.borderRadius=!1,this.computedUrl="",this.computedPreviewUrl="",this.lazyLoad=!0,this.data=t,this.project=e,this.imageStyle=o,this.prewType=i,this.isSingle=a,this.computedWindowWidth=s,this.imageStyle1Margin=l;let d=parseInt(Object(n["a"])(t,"image_width.value","0"),10);Object(c["a"])(d)&&(d=0),this.originWidth=d;let u=parseInt(Object(n["a"])(t,"image_height.value","0"),10);Object(c["a"])(u)&&(u=0),this.originHeight=u,this.computeWidth(),this.computeHeight(),this.computeUrl();let p=!1;this.computedHeight>21e3&&(this.lazyLoad=!1),i===r["d"].SWIPER?p=o===r["b"].IMAGE_STYLE_1:i===r["d"].TILE&&(p=a&&o===r["b"].IMAGE_STYLE_1),this.borderRadius=p}static px2rem({px:t,computedWindowWidth:e}){return t*(16/e)}static hasNoSize(t){const e=Object(n["a"])(t,"image_width.value",""),o=Object(n["a"])(t,"image_height.value","");return!e||!o}static addOssSuffix(t,e){e=Math.min(e,4096);let o=`${t}?x-oss-process=image/resize,w_${e}/format,gif/sharpen,100/quality,Q_80/interlace,1/auto-orient,1`;const r=t+"?x-oss-process=image/format,gif/auto-orient,1";return".gif"===t.substring(t.length-4)&&(o=t+"?x-oss-process=image/format,gif/sharpen,100/quality,Q_80/interlace,1/auto-orient,1"),{url:o,previewUrl:r}}static getComputedUrl(t){const{data:e}=t,{width:o,height:r,value:n,image_size:i}=e,c=Object(s["a"])(i)||parseInt(i,10)||0,a=Math.min(750,o),l=a*(r/o);return l<16384&&c<20971520?this.addOssSuffix(n,a):{url:n,previewUrl:n}}static getComputedImage(t){const{data:e}=t,{width:o,height:r,value:n,image_size:i}=e,c=Object(s["a"])(i)||parseInt(i,10)||0,a=Math.min(750,o),l=a*(r/o);let d;return l<16384&&c<20971520&&({previewUrl:d}=this.addOssSuffix(n,a)),d=d||n,{width:o,height:r,size:c,url:n,previewUrl:d}}getMaxWidth(){const{project:t,imageStyle:e,computedWindowWidth:o,imageStyle1Margin:r}=this;return Object(l["b"])({project:t,imageStyle:e,computedWindowWidth:o,margin:r})}computeWidth(){const{originWidth:t,imageStyle:e,isSingle:o}=this,n=this.getMaxWidth();let c=t*(n/750);const a=!o||e===r["b"].IMAGE_STYLE_1&&c>=n||Object(i["a"])([r["b"].IMAGE_STYLE_2,r["b"].IMAGE_STYLE_3],e);c=a?n:Math.min(c,n),this.computedWidth=Math.floor(c)}computeHeight(){const{computedWidth:t,originWidth:e,originHeight:o}=this;this.computedHeight=Math.floor(t*(o/e))}px2rem(t){const{computedWindowWidth:e}=this;return d.px2rem({px:t,computedWindowWidth:e})}getStyleObject(){const{project:t,computedWidth:e,computedHeight:o,borderRadius:n,computedWindowWidth:i,imageStyle:c}=this,a={},s=this.getMaxWidth();if(t===r["e"].MPCLI){const t=this.px2rem(e),l=this.px2rem(o);if(t?a.width=t+"rem":c===r["b"].IMAGE_STYLE_1?a.maxWidth=this.px2rem(s)+"rem":a.width=this.px2rem(s)+"rem",l&&(a.height=l+"rem"),n){const t=i/375;a.borderRadius=this.px2rem(5*t)+"rem"}else a.borderRadius="0"}else e?a.width=e+"px":t===r["e"].WXA&&(a.width=s+"px"),o&&(a.height=o+"px"),a.borderRadius=n?"5px":"0";return a}getStyle(){const t=this.getStyleObject(),e=[],o={borderRadius:"border-radius",maxWidth:"max-width"};return Object(a["a"])(t,(t,r)=>{e.push(`${o[r]||r}:${t};`)}),e.join("")}computeUrl(){const{originWidth:t,originHeight:e,data:o}=this,r=Object(n["a"])(o,"image_url.value",""),i=Object(s["a"])(Object(n["a"])(o,"image_size.value","")),c=Math.min(750,t),a=c*(e/t);if(a<16384&&i<20971520){const{url:t,previewUrl:e}=d.addOssSuffix(r,c);this.computedUrl=t,this.computedPreviewUrl=e}else this.computedUrl=r,this.computedPreviewUrl=r}}e["a"]=d},"7aa6":function(t,e,o){(function(e,r){o("d9e2"),o("907a"),o("3c5d"),o("fa9e"),o("77d9"),function(e,o){t.exports=o()}(0,(function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function o(t){return"function"==typeof t}function n(t){W=t}function i(t){F=t}function c(){return function(){return e.nextTick(u)}}function a(){return"undefined"!=typeof U?function(){U(u)}:d()}function s(){var t=0,e=new z(u),o=document.createTextNode("");return e.observe(o,{characterData:!0}),function(){o.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=u,function(){return t.port2.postMessage(0)}}function d(){var t=setTimeout;return function(){return t(u,1)}}function u(){for(var t=0;t<P;t+=2){var e=K[t],o=K[t+1];e(o),K[t]=void 0,K[t+1]=void 0}P=0}function p(){try{var t=Function("return this")().require("vertx");return U=t.runOnLoop||t.runOnContext,a()}catch(o){return d()}}function h(t,e){var o=this,r=new this.constructor(m);void 0===r[X]&&I(r);var n=o._state;if(n){var i=arguments[n-1];F((function(){return A(n,r,i,o._result)}))}else x(o,r,t,e);return r}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var o=new e(m);return j(o,t),o}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function _(t,e,o,r){try{t.call(e,o,r)}catch(c){return c}}function O(t,e,o){F((function(t){var r=!1,n=_(o,e,(function(o){r||(r=!0,e!==o?j(t,o):w(t,o))}),(function(e){r||(r=!0,E(t,e))}),"Settle: "+(t._label||" unknown promise"));!r&&n&&(r=!0,E(t,n))}),t)}function y(t,e){e._state===tt?w(t,e._result):e._state===et?E(t,e._result):x(e,void 0,(function(e){return j(t,e)}),(function(e){return E(t,e)}))}function v(t,e,r){e.constructor===t.constructor&&r===h&&e.constructor.resolve===f?y(t,e):void 0===r?w(t,e):o(r)?O(t,e,r):w(t,e)}function j(e,o){if(e===o)E(e,g());else if(t(o)){var r=void 0;try{r=o.then}catch(c){return void E(e,c)}v(e,o,r)}else w(e,o)}function C(t){t._onerror&&t._onerror(t._result),T(t)}function w(t,e){t._state===Z&&(t._result=e,t._state=tt,0!==t._subscribers.length&&F(T,t))}function E(t,e){t._state===Z&&(t._state=et,t._result=e,F(C,t))}function x(t,e,o,r){var n=t._subscribers,i=n.length;t._onerror=null,n[i]=e,n[i+tt]=o,n[i+et]=r,0===i&&t._state&&F(T,t)}function T(t){var e=t._subscribers,o=t._state;if(0!==e.length){for(var r=void 0,n=void 0,i=t._result,c=0;c<e.length;c+=3)r=e[c],n=e[c+o],r?A(o,r,n,i):n(i);t._subscribers.length=0}}function A(t,e,r,n){var i=o(r),c=void 0,a=void 0,s=!0;if(i){try{c=r(n)}catch(u){s=!1,a=u}if(e===c)return void E(e,b())}else c=n;e._state!==Z||(i&&s?j(e,c):!1===s?E(e,a):t===tt?w(e,c):t===et&&E(e,c))}function S(t,e){try{e((function(e){j(t,e)}),(function(e){E(t,e)}))}catch(n){E(t,n)}}function R(){return ot++}function I(t){t[X]=ot++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(){return new Error("Array Methods must be provided an Array")}function $(t){return new rt(this,t).promise}function L(t){var e=this;return new e(N(t)?function(o,r){for(var n=t.length,i=0;i<n;i++)e.resolve(t[i]).then(o,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function M(t){var e=this,o=new e(m);return E(o,t),o}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function k(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(){var t=void 0;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(o){}if("[object Promise]"===n&&!e.cast)return}t.Promise=nt}var q=void 0;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N=q,P=0,U=void 0,W=void 0,F=function(t,e){K[P]=t,K[P+1]=e,P+=2,2===P&&(W?W(u):V())},G="undefined"!=typeof window?window:void 0,Y=G||{},z=Y.MutationObserver||Y.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3),V=void 0;V=Q?c():z?s():J?l():void 0===G?p():d();var X=Math.random().toString(36).substring(2),Z=void 0,tt=1,et=2,ot=0,rt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[X]||I(this.promise),N(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&w(this.promise,this._result))):E(this.promise,D())}return t.prototype._enumerate=function(t){for(var e=0;this._state===Z&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var o=this._instanceConstructor,r=o.resolve;if(r===f){var n=void 0,i=void 0,c=!1;try{n=t.then}catch(l){c=!0,i=l}if(n===h&&t._state!==Z)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(o===nt){var a=new o(m);c?E(a,i):v(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new o((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,o){var r=this.promise;r._state===Z&&(this._remaining--,t===et?E(r,o):this._result[e]=o),0===this._remaining&&w(r,this._result)},t.prototype._willSettleAt=function(t,e){var o=this;x(t,void 0,(function(t){return o._settledAt(tt,e,t)}),(function(t){return o._settledAt(et,e,t)}))},t}(),nt=function(){function t(e){this[X]=R(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&H(),this instanceof t?S(this,e):k())}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype["finally"]=function(t){var e=this,r=e.constructor;return o(t)?e.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):e.then(t,t)},t}();return nt.prototype.then=h,nt.all=$,nt.race=L,nt.resolve=f,nt.reject=M,nt._setScheduler=n,nt._setAsap=i,nt._asap=F,nt.polyfill=B,nt.Promise=nt,nt}))}).call(this,o("4362"),o("c8ba"))},8033:function(t,e,o){o("d9e2");var r=function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function r(){return this instanceof r==0?new r:void(this._={})}function n(t){return Math.max(Math.min(t,100),0)}function i(t){return Math.max(Math.min(t,255),0)}function c(t,e,o){return[Math.max(Math.min(t,255),0),Math.max(Math.min(e,255),0),Math.max(Math.min(o,255),0)]}function a(t,e,o){return[Math.max(Math.min(t,360),0),Math.max(Math.min(e,100),0),Math.max(Math.min(o,100),0)]}var s=o(1);r.fromHex=function(t){return(new r).fromHex(t)},r.fromGrayscale=function(t){return(new r).fromGrayscale(t)},r.fromRgb=function(t,e,o){return(new r).fromRgb(t,e,o)},r.fromRgbArray=function(t){return(new r).fromRgb(t[0],t[1],t[2])},r.fromRgbObject=function(t){return(new r).fromRgb(t.r,t.g,t.b)},r.fromHsl=function(t,e,o){return(new r).fromHsl(t,e,o)},r.fromHslArray=function(t){return(new r).fromHsl(t[0],t[1],t[2])},r.fromHslObject=function(t){return(new r).fromHsl(t.h,t.s,t.l)},r.fromHsv=function(t,e,o){return(new r).fromHsv(t,e,o)},r.fromHsvArray=function(t){return(new r).fromHsv(t[0],t[1],t[2])},r.fromHsvObject=function(t){return(new r).fromHsv(t.h,t.s,t.v)},r.prototype.fromHex=function(t){var e=s.hex.rgb(t);return this._={rgb:e},this},r.prototype.fromGrayscale=function(t){t=i(t);var e=s.grayscale.rgb(t);return this._={rgb:e},this},r.prototype.fromRgb=function(t,e,o){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof o)throw new Error("Arguments must be numbers");var r=c(t,e,o);return this._={rgb:r},this},r.prototype.fromRgbArray=function(t){return this.fromRgb(t[0],t[1],t[2])},r.prototype.fromRgbObject=function(t){return this.fromRgb(t.r,t.g,t.b)},r.prototype.fromHsl=function(t,e,o){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof o)throw new Error("Arguments must be numbers");return this._={hsl:a(t,e,o)},this},r.prototype.fromHslArray=function(t){return this.fromHsl(t[0],t[1],t[2])},r.prototype.fromHslObject=function(t){return this.fromHsl(t.h,t.s,t.l)},r.prototype.fromHsv=function(t,e,o){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof o)throw new Error("Arguments must be numbers");return this._={hsv:a(t,e,o)},this},r.prototype.fromHsvArray=function(t){return this.fromHsv(t[0],t[1],t[2])},r.prototype.fromHsvObject=function(t){return this.fromHsv(t.h,t.s,t.v)},r.prototype.toHex=function(){var t=this._.hex;if(void 0!==t)return t;var e,o=this._.rgb;e=void 0!==o?o:this.toRawRgbArray(),e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e[2]=Math.round(e[2]);var r=s.rgb.hex(e);return this._.hex=r,r},r.prototype.toGrayscale=function(){var t=this._.grayscale;if(void 0!==t)return t;var e,o=this._.rgb;e=void 0!==o?o:this.toRawRgbArray();var r=s.rgb.grayscale(e);return this._.grayscale=r,r},r.prototype.toRawRgbArray=function(){var t,e=this._.rgb;if(void 0!==e)return e;if(void 0!==(t=this._.hsv))t=s.hsv.rgb(t);else{if(void 0===(t=this._.hsl))throw new Error("No data to convert");t=s.hsl.rgb(t)}return this._.rgb=t,t},r.prototype.toRawRgbObject=function(){var t=this.toRawRgbArray();return{r:t[0],g:t[1],b:t[2]}},r.prototype.toRgbArray=function(){var t=this.toRawRgbArray();return[Math.round(t[0]),Math.round(t[1]),Math.round(t[2])]},r.prototype.toRgbObject=function(){var t=this.toRgbArray();return{r:t[0],g:t[1],b:t[2]}},r.prototype.toRawHslArray=function(){var t,e=this._.hsl;if(void 0!==e)return e;if(void 0!==(t=this._.hsv))t=s.hsv.hsl(t);else{if(void 0===(t=this._.rgb))throw new Error("No data to convert");t=s.rgb.hsl(t)}return this._.hsl=t,t},r.prototype.toRawHslObject=function(){var t=this.toRawHslArray();return{h:t[0],s:t[1],l:t[2]}},r.prototype.toHslArray=function(){var t=this.toRawHslArray();return[Math.round(t[0]),Math.round(t[1]),Math.round(t[2])]},r.prototype.toHslObject=function(){var t=this.toHslArray();return{h:t[0],s:t[1],l:t[2]}},r.prototype.toRawHsvArray=function(){var t,e=this._.hsv;if(void 0!==e)return e;if(void 0!==(t=this._.hsl))t=s.hsl.hsv(t);else{if(void 0===(t=this._.rgb))throw new Error("No data to convert");t=s.rgb.hsv(t)}return this._.hsv=t,t},r.prototype.toRawHsvObject=function(){var t=this.toRawHsvArray();return{h:t[0],s:t[1],v:t[2]}},r.prototype.toHsvArray=function(){var t=this.toRawHsvArray();return[Math.round(t[0]),Math.round(t[1]),Math.round(t[2])]},r.prototype.toHsvObject=function(){var t=this.toHsvArray();return{h:t[0],s:t[1],v:t[2]}},r.prototype.lighten=function(t){var e=this.toRawHslArray();return e[2]=n(e[2]+t),this._={hsl:e},this},r.prototype.darken=function(t){var e=this.toRawHslArray();return e[2]=n(e[2]-t),this._={hsl:e},this},r.prototype.clone=function(){var t=new r;return t._.hex=this._.hex,t._.grayscale=this._.grayscale,void 0!==this._.rgb&&(t._.rgb=this._.rgb.slice(0)),void 0!==this._.hsv&&(t._.hsv=this._.hsv.slice(0)),void 0!==this._.hsl&&(t._.hsl=this._.hsl.slice(0)),t},t.exports=r},function(t,e){"use strict";function o(t){return 58>t?t-48:71>t?t-55:t-87}function r(t){var e="#"===t[0]?1:0,r=t.length;if(3>r-e)throw new Error("hex input must be at least three chars long");var n,i,c,a=o(t.charCodeAt(0+e)),s=o(t.charCodeAt(1+e)),l=o(t.charCodeAt(2+e));if(r-e>=6?(n=(a<<4)+s,i=(l<<4)+o(t.charCodeAt(3+e)),c=(o(t.charCodeAt(4+e))<<4)+o(t.charCodeAt(5+e))):(n=(a<<4)+a,i=(s<<4)+s,c=(l<<4)+l),0>n||n>255||0>i||i>255||0>c||c>255)throw new Error("hex input is invalid");return[n,i,c]}function n(t){return"#"+("000000"+((t[0]<<16)+(t[1]<<8)+t[2]).toString(16)).slice(-6)}function i(t){var e,o,r,n=t[0]/255,i=t[1]/255,c=t[2]/255,a=Math.min(n,i,c),s=Math.max(n,i,c),l=s-a;return s===a?e=0:n===s?e=(i-c)/l:i===s?e=2+(c-n)/l:c===s&&(e=4+(n-i)/l),e=Math.min(60*e,360),0>e&&(e+=360),r=(a+s)/2,o=s===a?0:.5>=r?l/(s+a):l/(2-s-a),[e,100*o,100*r]}function c(t){var e,o,r,n=t[0],i=t[1],c=t[2],a=Math.min(n,i,c),s=Math.max(n,i,c),l=s-a;return o=0===s?0:l/s*100,s===a?e=0:n===s?e=(i-c)/l:i===s?e=2+(c-n)/l:c===s&&(e=4+(n-i)/l),e=Math.min(60*e,360),0>e&&(e+=360),r=s/255*100,[e,o,r]}function a(t){var e,o,r,n=t[0]/360,i=t[1]/100,c=t[2]/100;if(0===i)e=o=r=c;else{var a,s=.5>c?c*(i+1):c+i-c*i,l=2*c-s;a=n+1/3,0>a?a+=1:a>1&&(a-=1),e=1/6>a?l+(s-l)*a*6:.5>a?s:2/3>a?l+(s-l)*(2/3-a)*6:l,a=n,0>a?a+=1:a>1&&(a-=1),o=1/6>a?l+(s-l)*a*6:.5>a?s:2/3>a?l+(s-l)*(2/3-a)*6:l,a=n-1/3,0>a?a+=1:a>1&&(a-=1),r=1/6>a?l+(s-l)*a*6:.5>a?s:2/3>a?l+(s-l)*(2/3-a)*6:l}return[255*e,255*o,255*r]}function s(t){var e,o,r=t[0],n=t[1]/100,i=t[2]/100;return 0===n?[r,0,100*i]:0===i?[r,0,0]:(i*=2,n*=1>=i?i:2-i,o=(i+n)/2,e=2*n/(i+n),[r,100*e,100*o])}function l(t){var e=t[0]/60,o=t[1]/100,r=t[2]/100,n=Math.floor(e)%6,i=e-Math.floor(e),c=255*r*(1-o),a=255*r*(1-o*i),s=255*r*(1-o*(1-i));switch(r*=255,n){case 0:return[r,s,c];case 1:return[a,r,c];case 2:return[c,r,s];case 3:return[c,a,r];case 4:return[s,c,r];case 5:return[r,c,a]}}function d(t){var e,o,r=t[0],n=t[1]/100,i=t[2]/100;return 0===n?[r,0,100*i]:0===i?[r,0,0]:(o=(2-n)*i,e=n*i,e/=1>=o?o:2-o,o/=2,[r,100*e,100*o])}function u(t){return[t,t,t]}function p(t){return(299*t[0]+587*t[1]+114*t[2])/1e3}t.exports={grayscale:{rgb:u},hex:{rgb:r},rgb:{hsl:i,hsv:c,hex:n,grayscale:p},hsl:{rgb:a,hsv:s},hsv:{rgb:l,hsl:d}}}]);t.exports=r},8262:function(t,e,o){"use strict";var r=o("f1d0"),n=o("1894");e["a"]=({project:t,computedDpr:e,originWindowWidth:o})=>{let i=o;return t===r["e"].MPCLI&&Object(n["a"])()&&(i=o/e),i}},"8e05":function(t,e,o){"use strict";var r,n,i,c;o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"d",(function(){return c})),function(t){t[t["List"]=0]="List",t[t["Expand"]=1]="Expand",t[t["Bottom"]=2]="Bottom",t[t["Hide"]=3]="Hide",t[t["BlockList"]=4]="BlockList",t[t["Grid"]=5]="Grid",t[t["MinimalList"]=6]="MinimalList"}(r||(r={})),function(t){t[t["List1"]=1]="List1",t[t["Hide"]=2]="Hide",t[t["List3"]=3]="List3",t[t["TimeLine"]=4]="TimeLine",t[t["UnionList"]=5]="UnionList",t[t["Stats"]=6]="Stats",t[t["ClosedStats"]=7]="ClosedStats"}(n||(n={})),function(t){t[t["Head"]=1]="Head",t[t["Hide"]=2]="Hide",t[t["Body"]=3]="Body"}(i||(i={})),function(t){t[t["Head"]=1]="Head",t[t["BodyBottom"]=2]="BodyBottom",t[t["Hide"]=3]="Hide"}(c||(c={}))},"8f21":function(t,e,o){"use strict";const r="H5_OPEN_ID";var n=o("1f82"),i=o.n(n);class c{constructor(){if(this.id="",c.instance)return c.instance;c.instance=this,this.setID()}setID(){let t=this.getIDFromStorage();t||(t=i.a.parse(i.a.generate()).hexNoDelim,this.setIDToStorage(t)),this.id=t}getIDFromStorage(){return localStorage.getItem(r)||""}setIDToStorage(t){return localStorage.setItem(r,t),t}}c.instance=null;e["a"]=c},"98b6":function(t,e,o){},"9f5d":function(t,e,o){"use strict";var r=o("131c");o.d(e,"a",(function(){return r["a"]}))},a607:function(t,e,o){"use strict";var r=o("a719");function n(t,e){if(!t||!e)return;const o=Object(r["a"])(t);t={...t};const n=Object.keys(t),{length:i}=n;for(let r=0;r<i;r++){const i=n[r],c=t[i],a=e(c,o?r:i);if(!1===a)break}}e["a"]=n},a719:function(t,e,o){"use strict";e["a"]=t=>"[object Array]"===Object.prototype.toString.call(t)},a7a1:function(t,e,o){"use strict";o.d(e,"f",(function(){return l})),o.d(e,"m",(function(){return d})),o.d(e,"e",(function(){return h})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return f})),o.d(e,"g",(function(){return m})),o.d(e,"j",(function(){return g})),o.d(e,"l",(function(){return b})),o.d(e,"i",(function(){return _})),o.d(e,"k",(function(){return O})),o.d(e,"h",(function(){return y})),o.d(e,"d",(function(){return p})),o.d(e,"b",(function(){return v}));var r=o("c760");const{COMPILER_ENV:n}=r["a"],i="exp",c="net",a="com",s="onlineTest",l="online",d=(()=>{const t={[i]:"https://exp-static-develop.clewm.net/cli",[c]:"https://static-develop.clewm.net/cli",[a]:"https://static-test.clewm.net/cli",[s]:"https://static.clewm.net/cli",[l]:"https://static.clewm.net/cli"};return t[n]})(),u=(()=>{const t={[i]:"https://exp-static-develop.clewm.net/cli",[c]:"https://static-develop.clewm.net/cli",[a]:"https://static-test.clewm.net/cli",[s]:"https://preview-static.clewm.net/cli",[l]:"https://preview-static.clewm.net/cli"};return t[n]})(),p=(()=>{const t={[i]:"https://exp-h5.cliim.net/",[c]:"https://h5.cliim.net",[a]:"https://h5.cliim.com",[s]:"https://h5.clewm.net",[l]:"https://h5.clewm.net"};return t[n]})(),h=["jpg","jpeg","png","gif"],f=["docx","doc","ppt","pptx","pdf","xls","xlsx","jpg","jpeg","png","gif","txt"],m=["dotx","dot","docm","dotm","wps","wpt","pages"],g=["pot","potx","ppsx","pps","pptm","potm","ppsm","dps","dpt","key"],b=["xltx","xlt","xlsb","xla","xlsm","xltm","xlam","et","ett","numbers"],_=["bmp","webp","tif","heic","HEIC"],O=["psd","psb","svg","eps","ai","cdr"],y=["dwg","skp","rvt","obj"],v=["rar","zip","7z"]},acb3:function(t,e,o){"use strict";var r=o("131c");o.d(e,"a",(function(){return r["O"]}))},b6f3:function(t,e,o){"use strict";var r=o("a607");function n(t,e){let o=!1;return t&&e?(Object(r["a"])(t,(t,r)=>{if(e(t,r))return o=!0,!1}),o):o}e["a"]=n},c760:function(t,e,o){"use strict";var r=o("07f0");const n="net";Object(r["a"])(n);e["a"]={PROJECT_EVN:n,COMPILER_ENV:Object(r["b"])(),ONLINE:"online"===Object(r["b"])(),SHOW_SCAN_ENTRY_AUTO:!0,_WECHAT:{APPID:{MIDDLE:"wx9ed353c2ad8fda21",CLI:"wx5db79bd23a923e8e"}}}},cb9b:function(t,e,o){"use strict";e["a"]=t=>t!==t},d197:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"n",(function(){return c})),o.d(e,"o",(function(){return a})),o.d(e,"j",(function(){return s})),o.d(e,"k",(function(){return l})),o.d(e,"l",(function(){return d})),o.d(e,"c",(function(){return u})),o.d(e,"f",(function(){return p})),o.d(e,"e",(function(){return h})),o.d(e,"a",(function(){return f})),o.d(e,"h",(function(){return m})),o.d(e,"g",(function(){return g})),o.d(e,"d",(function(){return b})),o.d(e,"i",(function(){return _})),o.d(e,"m",(function(){return O}));var r=o("f1d0");const n=20,i="数据审核",c=1617796800,a=1617343200,s="placeholder-wrapper",l="placeholder-icon",d="placeholder-name",u=r["a"].ButtonCard,p={"#2D77C7":"#F3F6F9","#C74C49":"#FBF6F6","#DD7E2F":"#FDF6F0","#EBA62F":"#FEF9EF","#1BA04C":"#F1F8F4","#5758C2":"#F2F2F9","#FFFFFF":"#F8F8F8"},h=Object.keys(p),f={Admin:"管理员",Group:"指定成员组",HighGroup:"指定高级成员",Any:"任何人",Password:"输入密码查看",WithinGroup:"所有组织成员",OutGroup:`开启${i}功能`,WxWork:"企业微信同事"},m="操作名称",g="点击",b={Head:1,Hide:2,Body:3},_={Head:1,BodyBottom:2,Hide:3},O={HAS:15,NO:16}},d1b2:function(t,e,o){"use strict";o.d(e,"b",(function(){return u})),o.d(e,"d",(function(){return m})),o.d(e,"c",(function(){return _})),o.d(e,"a",(function(){return y}));o("caad");var r=o("acb3"),n=o("08f7"),i=o("a607"),c=o("9f5d"),a=o("de79"),s=o("d197");const l={List:0,Expand:1,Bottom:2,Hide:3,BlockList:4,NineSquare:5},d={Code:0,Open:1,ToClose:2,Remain:3},u={STATE:1,TPL:2,LINK:3,PLACEHOLDER:4,OPERATE:-1},p={HREF:3,TYPE:4,DESC:2,PLACEHOLDER_VALUE:5},h={[u.STATE]:{name:"状态组",key:"state_id",completeInfo:{type:""}},[u.TPL]:{name:"表单",key:"tpl_id",completeInfo:{type:"tplEdit"}},[u.LINK]:{name:"链接",key:""},[u.OPERATE]:{}},f={btnBgColor:"#fff",btnBorderColor:"#576B95",btnColor:"#576B95",listBgColor:"#f8f8f8"},m=t=>s["e"].includes(t)&&"#FFFFFF"!==t?{btnColor:"#fff",btnBgColor:t,btnBorderColor:t,listBgColor:s["f"][t]}:f,g=t=>{const e=Object(n["a"])(t,"operation_msg.element_list.0.options");let o=null;return Object(i["a"])(e,t=>{if(3===t.option_type)return o=t,!1}),Object(n["a"])(o,"option_value","")},b=t=>{const e=Object(n["a"])(t,"operation_msg.element_list.0.options");let o=null;return Object(i["a"])(e,t=>{if(5===t.option_type)return o=t,!1}),Object(n["a"])(o,"option_value","")},_=t=>{const e=Object(n["a"])(t,"operation_msg.element_list.0"),o=Object(n["a"])(e,"element_type");if(3===o)return!g(t);if(4===o)return!b(t);const r=Object(n["a"])(e,"element_value");return!o||!r},O=t=>Object(n["a"])(t,"operation_msg.element_list");class y{constructor(){this.callbacks=[],this.qrCodeId=0,this.qrCodeRecord=null,this.expandLog=0,this.operateData=null,this.expandTplData=null}init(t){const{operateMsg:e}=t;if(!e)return;const{qrCodeId:o,qrCodeRecord:r,expandLog:n}=t;this.qrCodeId=o,this.qrCodeRecord=r,this.expandLog=n;const i=y.combine(t);this.operateData=i,this.expandTplData=this.handleExpandTpl(),this.emit()}register(t){this.callbacks.push(t||(()=>{})),this.emit()}emit(){this.callbacks.forEach(t=>{t&&t(this.operateData,this.expandTplData)})}handleExpandTpl(){const{operateData:t,expandLog:e}=this,o=1===t.length&&!!t[0].$elData&&[l.Expand,l.Bottom].includes(e);return o?{showExpandTpl:o,from_operation_id:t[0].operation_id||""}:{showExpandTpl:o}}showOperateComp(){const{qrCodeRecord:t}=this,{log_status:e}=t;return e===d.Open&&!!this.operateData.length}static combine({operateMsg:t,tplList:e,stateList:o}){const n=!(null===e||void 0===e||!e.length),i=!(null===o||void 0===o||!o.length);return Object(r["a"])(t||[],t=>{const a=O(t);let s=null,l=null,d=0;return a&&(t.operation_msg.element_list=Object(r["a"])(a,t=>{const r=t.element_value;switch(t.element_type){case u.TPL:{if(!n)break;const o=(e||[]).find(t=>t.tpl_id===r);t.$data=o,s=o&&(!o.can_add_record||!o.owner_can_add_record);break}case u.STATE:{if(!i)break;const e=(o||[]).find(t=>t.state_id===r);t.$data=e;break}case u.LINK:{const e=(t.options||[]).find(t=>t.option_type===p.HREF)||{},o=e.option_value||"";t.$data=o;break}case u.PLACEHOLDER:{const e=(t.options||[]).find(t=>t.option_type===p.PLACEHOLDER_VALUE)||{},o=e.option_value||null;t.$data=o;break}default:break}return l=t.$data,d=t.element_type,t})),l&&Object(c["a"])(t,{$elData:l}),s&&Object(c["a"])(t,{$customLimit:s}),Object(c["a"])(t,{$elType:d}),t})}getOperateItem(t,e){return(this.operateData||[]).find(o=>{const r=Object(n["a"])(o,"operation_msg.element_list");return Object(a["a"])(r,o=>o.element_type===e&&o.$data[h[o.element_type].key]===t)})}getOperateItemIndex(t,e){return(this.operateData||[]).findIndex(o=>{const r=Object(n["a"])(o,"operation_msg.element_list");return Object(a["a"])(r,o=>o.element_type===e&&o.$data[h[o.element_type].key]===t)})}getOperateItemById(t){let e=(this.operateData||[]).find(e=>e.operation_id===t);return e||(e=this.getOperateItem(t,u.TPL)),e}getOperateItemIndexById(t){let e=(this.operateData||[]).findIndex(e=>e.operation_id===t);return-1===e&&(e=this.getOperateItemIndex(t,u.TPL)),e}static getChildItem(t){return Object(n["a"])(t,"operation_msg.element_list.0",{})}static getDesc(t){const e=(t.options||[]).find(t=>t.option_type===p.DESC);return e?e.option_value:""}}new y},d2a4:function(t,e,o){"use strict";var r=o("a607");const n=(t,e)=>{Object(r["a"])(e,(e,o)=>{try{t[o]=e}catch(r){console.warn(r.message)}})};e["a"]=(t,...e)=>{var o;return t=null!==(o=t)&&void 0!==o?o:{},Object(r["a"])(e,e=>{n(t,e)}),t}},d6ad:function(t,e,o){"use strict";var r=o("f64c");e["a"]=t=>{const e=JSON.stringify(t);if(!Object(r["a"])(e))return JSON.parse(e)}},de79:function(t,e,o){"use strict";var r=o("131c");o.d(e,"a",(function(){return r["U"]}))},dfe4:function(t,e,o){"use strict";var r=o("a607");function n(t,e){const o=[];return t&&e?(Object(r["a"])(t,(t,r)=>{o.push(e(t,r))}),o):o}e["a"]=n},e548:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var r,n=o("f1d0");(function(t){t[t["IMAGE"]=1]="IMAGE",t[t["TABLE"]=2]="TABLE"})(r||(r={})),e["b"]=({type:t=r.IMAGE,project:e,imageStyle:o,computedWindowWidth:i=0,margin:c=0})=>{let a=0;if(t===r.IMAGE&&o===n["b"].IMAGE_STYLE_1||t===r.TABLE)if(e===n["e"].MPCLI){const t=i/375;a=i-c*t*2}else a=i-2*c;else a=i;return a}},f1d0:function(t,e,o){"use strict";var r;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"d",(function(){return l})),o.d(e,"e",(function(){return u})),o.d(e,"a",(function(){return h})),o.d(e,"f",(function(){return m})),o.d(e,"g",(function(){return g})),function(t){t["IMAGE_STYLE_1"]="1",t["IMAGE_STYLE_2"]="2",t["IMAGE_STYLE_3"]="3"}(r||(r={}));var n,i=r;(function(t){t[t["TOP_MODULE"]=1]="TOP_MODULE",t[t["RICH_TEXT"]=2]="RICH_TEXT"})(n||(n={}));var c,a=n;(function(t){t["SWIPER"]="0",t["TILE"]="1"})(c||(c={}));var s,l=c;(function(t){t[t["CONSOLE"]=1]="CONSOLE",t[t["WXA"]=2]="WXA",t[t["MPCLI"]=3]="MPCLI"})(s||(s={}));var d,u=s;(function(t){t[t["List"]=1]="List",t[t["Card"]=2]="Card",t[t["TwoCol"]=3]="TwoCol",t[t["ButtonCard"]=4]="ButtonCard",t[t["Hide"]=5]="Hide"})(d||(d={}));var p,h=d;(function(t){t[t["NONE"]=0]="NONE",t[t["OPEN"]=1]="OPEN",t[t["CLOSE"]=2]="CLOSE"})(p||(p={}));var f,m=p;(function(t){t[t["AUDIT"]=12]="AUDIT",t[t["SECRET"]=3]="SECRET",t[t["STATUS_UPDATE"]=7]="STATUS_UPDATE",t[t["APPLY"]=14]="APPLY",t[t["NORMAL"]=0]="NORMAL"})(f||(f={}));var g=f},f64c:function(t,e,o){"use strict";e["a"]=t=>void 0===t},faaf:function(t,e,o){"use strict";var r=o("8033"),n=o.n(r),i=o("d2a4");e["a"]=t=>{if(!t)return null;const e=n.a.fromHex(t),o=e.toHsvObject(),r=e.toRgbObject();if(r.r===r.g&&r.g===r.b)return r.r>240?{blockColor:"#2aad67",textColor:"#06ae56"}:{blockColor:"#333",textColor:"#222"};let c={},a={};return o.s<=30?o.h>=0&&o.h<=40||o.h>320&&o.h<=360?(c.s=50,c.v=90,a.s=50,a.v=75):o.h>160&&o.h<=260?(c.s=50,c.v=80,a.s=50,a.v=65):o.h>40&&o.h<=160?(c.s=40,c.v=80,a.s=40,a.v=65):o.h>260&&o.h<=320&&(c.s=50,c.v=70,a.s=50,a.v=55):o.s>30&&(o.v>=0&&o.v<=15?(c.v=o.v+15,a.v=o.v+30):o.v>15&&o<=30?(c.v=o.v-15,a.v=o.v+30):o.v>30&&o.v<=100&&(c.v=o.v-15,a.v=o.v-30)),c=Object(i["a"])({},o,c),a=Object(i["a"])({},o,a),{blockColor:n.a.fromHsvObject(c).toHex(),textColor:n.a.fromHsvObject(a).toHex()}}}}]);